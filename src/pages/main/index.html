<div class="video-canvas__container relative">
  <div class="relative sticky-container">
    <div class="h-screen flex pt-[43.333vw] sm:pt-0 sticky-container__el">
      <canvas id="video-canvas" style="width: 100vw; height: 100vh;" class="absolute inset-0"></canvas>
      <div class="z-10 relative mx-auto sm:my-auto" id="firstBlock">
        <h1 class="text-center mb-[6px] sm:mb-3 text-56semi xl:text-89bold">
          SMART <br />
          SUPPROTS
        </h1>
        <div class="flex justify-center items-center gap-[10px] sm:gap-4 cities-container">
          <span class="text-[#9E9E9E] text-13reg sm:text-20reg">
            Наши товары в городах
          </span>
          <div
            class="text-13med sm:text-24reg cities relative button button--secondary bg-none border-none !px-0 !py-0"
          >
            <div class="button button--secondary cursor-default absolute  h-full top-0">
              
            </div>
            <span>Волгоград</span>
            <span>Казань</span>
            <span>Самара</span>
            <span>Омск</span>
            <span>Воронеж</span>
            <span>Москва</span>
            <span>Саратов</span>
          </div>
        </div>
      </div>
    </div>
    <div class="scene-container ">
      <div data-scene class="sticky-container sticky-container--mob" id="scrollToExportTarget">
        <div class="scene-container__el sticky-container__el">
          <div class="scene-content--blocks scene-content container">
            <div
              class="flex flex-col gap-8 justify-center col-start-7 col-span-4"
            >
              <div class="scene-content__el">
                <a href="/">
                  <div class="gap-[6px] flex items-center mb-3 xl:mb-4">
                    <div
                      class="w-10 h-8 xl:h-10 rounded-lg flex items-center justify-center border border-gray20 text-13reg sm:text-14reg"
                    >
                      <span>01</span>
                    </div>
                    <div
                      class="w-10 h-8 xl:h-10 rounded-lg flex items-center justify-center border border-gray20"
                    >
                      <svg
                        class="h-auto w-[0.875rem] sm:w-[1.0625rem]"
                        viewBox="0 0 20 17"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <path
                          d="M5.76797 1.6001H13.3847C13.9075 1.6001 14.374 1.61722 14.7923 1.67708C17.0202 1.94216 17.6234 3.05379 17.6234 6.09796V11.5022C17.6234 14.5464 17.0202 15.658 14.7923 15.9231C14.374 15.983 13.9156 16.0001 13.3847 16.0001H5.76797C5.24517 16.0001 4.77868 15.983 4.36044 15.9231C2.13252 15.658 1.5293 14.5464 1.5293 11.5022V6.09796C1.5293 3.05379 2.13252 1.94216 4.36044 1.67708C4.77868 1.61722 5.24517 1.6001 5.76797 1.6001Z"
                          stroke="#DFDFEC"
                          stroke-width="1.27059"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                        <path
                          d="M4.91797 10.9177H4.93566H14.2356"
                          stroke="#DFDFEC"
                          stroke-width="1.27059"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                        <path
                          d="M11.6943 7.52954H11.6992L14.2355 7.52954"
                          stroke="#DFDFEC"
                          stroke-width="1.27059"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                        <path
                          d="M4.91797 7.52954H4.91958H5.76503"
                          stroke="#DFDFEC"
                          stroke-width="1.27059"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                        <path
                          d="M8.30566 7.52954H8.30727H9.15272"
                          stroke="#DFDFEC"
                          stroke-width="1.27059"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                        <path
                          d="M18.4707 16L18.4707 1.6"
                          stroke="#DFDFEC"
                          stroke-width="1.27059"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                      </svg>
                    </div>
                  </div>
                  <h2 class="">LoRaWAN</h2>
                  <p>
                    Удаленное управление данными! Передача/прием (класс "С"),
                    LoRa Semtech, дистанционная настройка, энергонезависимая
                    память, обновление ПО "по воздуху". Надежная сеть, низкое
                    энергопотребление, безопасность
                  </p>
                </a>
              </div>
              <div class="scene-content__el !hidden xl:!flex">
                <a href="/">
                  <div class="gap-[6px] flex items-center mb-3 xl:mb-4">
                    <div
                      class="w-10 h-8 xl:h-10 rounded-lg flex items-center justify-center border border-gray20 text-13reg sm:text-14reg"
                    >
                      <span>02</span>
                    </div>
                    <div
                      class="w-10 h-8 xl:h-10 rounded-lg flex items-center justify-center border border-gray20"
                    >
                      <svg
                        class="h-auto w-[0.875rem] sm:w-[1.0625rem]"
                        viewBox="0 0 20 17"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <path
                          d="M5.76797 1.6001H13.3847C13.9075 1.6001 14.374 1.61722 14.7923 1.67708C17.0202 1.94216 17.6234 3.05379 17.6234 6.09796V11.5022C17.6234 14.5464 17.0202 15.658 14.7923 15.9231C14.374 15.983 13.9156 16.0001 13.3847 16.0001H5.76797C5.24517 16.0001 4.77868 15.983 4.36044 15.9231C2.13252 15.658 1.5293 14.5464 1.5293 11.5022V6.09796C1.5293 3.05379 2.13252 1.94216 4.36044 1.67708C4.77868 1.61722 5.24517 1.6001 5.76797 1.6001Z"
                          stroke="#DFDFEC"
                          stroke-width="1.27059"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                        <path
                          d="M4.91797 10.9177H4.93566H14.2356"
                          stroke="#DFDFEC"
                          stroke-width="1.27059"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                        <path
                          d="M11.6943 7.52954H11.6992L14.2355 7.52954"
                          stroke="#DFDFEC"
                          stroke-width="1.27059"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                        <path
                          d="M4.91797 7.52954H4.91958H5.76503"
                          stroke="#DFDFEC"
                          stroke-width="1.27059"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                        <path
                          d="M8.30566 7.52954H8.30727H9.15272"
                          stroke="#DFDFEC"
                          stroke-width="1.27059"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                        <path
                          d="M18.4707 16L18.4707 1.6"
                          stroke="#DFDFEC"
                          stroke-width="1.27059"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                      </svg>
                    </div>
                  </div>
                  <h2 class="">
                    АПК ЭМ RADUGA
                  </h2>
                  <p>
                    Встроенный экомониторинг на опорах освещения! Датчики и метеостанции для контроля среды, уровня выбросов. Удобное ПО.
                  </p>
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="scene-container">
      <div data-scene class="sticky-container sticky-container--mob">
        <div class="scene-container__el sticky-container__el">
          <div class="scene-content--blocks scene-content container">
            <div class="col-start-3 col-span-4">
              <div class="scene-content__el">
                <a href="/">
                  <div class="gap-[6px] flex items-center mb-3 xl:mb-4">
                    <div
                      class="w-10 h-8 xl:h-10 rounded-lg flex items-center justify-center border border-gray20 text-13reg sm:text-14reg"
                    >
                      <span>03</span>
                    </div>
                    <div
                      class="w-10 h-8 xl:h-10 rounded-lg flex items-center justify-center border border-gray20"
                    >
                      <svg
                        class="h-auto w-[0.875rem] sm:w-[1.0625rem]"
                        viewBox="0 0 20 17"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <path
                          d="M5.76797 1.6001H13.3847C13.9075 1.6001 14.374 1.61722 14.7923 1.67708C17.0202 1.94216 17.6234 3.05379 17.6234 6.09796V11.5022C17.6234 14.5464 17.0202 15.658 14.7923 15.9231C14.374 15.983 13.9156 16.0001 13.3847 16.0001H5.76797C5.24517 16.0001 4.77868 15.983 4.36044 15.9231C2.13252 15.658 1.5293 14.5464 1.5293 11.5022V6.09796C1.5293 3.05379 2.13252 1.94216 4.36044 1.67708C4.77868 1.61722 5.24517 1.6001 5.76797 1.6001Z"
                          stroke="#DFDFEC"
                          stroke-width="1.27059"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                        <path
                          d="M4.91797 10.9177H4.93566H14.2356"
                          stroke="#DFDFEC"
                          stroke-width="1.27059"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                        <path
                          d="M11.6943 7.52954H11.6992L14.2355 7.52954"
                          stroke="#DFDFEC"
                          stroke-width="1.27059"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                        <path
                          d="M4.91797 7.52954H4.91958H5.76503"
                          stroke="#DFDFEC"
                          stroke-width="1.27059"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                        <path
                          d="M8.30566 7.52954H8.30727H9.15272"
                          stroke="#DFDFEC"
                          stroke-width="1.27059"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                        <path
                          d="M18.4707 16L18.4707 1.6"
                          stroke="#DFDFEC"
                          stroke-width="1.27059"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                      </svg>
                    </div>
                  </div>
                  <h2 class="">БУС</h2>
                  <p>
                    Умный контроль освещения. Управление уличным светильником по
                    расписанию/фотодатчику, контроль параметров, передача данных
                    по LoRaWAN.
                  </p>
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="scene-container">
      <div data-scene class="sticky-container sticky-container--mob">
        <div class="scene-container__el sticky-container__el">
          <div class="scene-content--blocks scene-content container">
            <div class="col-start-7 col-span-4">
              <div class="scene-content__el">
                <a href="/">
                  <div class="gap-[6px] flex items-center mb-3 xl:mb-4">
                    <div
                      class="w-10 h-8 xl:h-10 rounded-lg flex items-center justify-center border border-gray20 text-13reg sm:text-14reg"
                    >
                      <span>04</span>
                    </div>
                    <div
                      class="w-10 h-8 xl:h-10 rounded-lg flex items-center justify-center border border-gray20"
                    >
                      <svg
                        class="h-auto w-[0.875rem] sm:w-[1.0625rem]"
                        viewBox="0 0 20 17"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <path
                          d="M5.76797 1.6001H13.3847C13.9075 1.6001 14.374 1.61722 14.7923 1.67708C17.0202 1.94216 17.6234 3.05379 17.6234 6.09796V11.5022C17.6234 14.5464 17.0202 15.658 14.7923 15.9231C14.374 15.983 13.9156 16.0001 13.3847 16.0001H5.76797C5.24517 16.0001 4.77868 15.983 4.36044 15.9231C2.13252 15.658 1.5293 14.5464 1.5293 11.5022V6.09796C1.5293 3.05379 2.13252 1.94216 4.36044 1.67708C4.77868 1.61722 5.24517 1.6001 5.76797 1.6001Z"
                          stroke="#DFDFEC"
                          stroke-width="1.27059"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                        <path
                          d="M4.91797 10.9177H4.93566H14.2356"
                          stroke="#DFDFEC"
                          stroke-width="1.27059"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                        <path
                          d="M11.6943 7.52954H11.6992L14.2355 7.52954"
                          stroke="#DFDFEC"
                          stroke-width="1.27059"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                        <path
                          d="M4.91797 7.52954H4.91958H5.76503"
                          stroke="#DFDFEC"
                          stroke-width="1.27059"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                        <path
                          d="M8.30566 7.52954H8.30727H9.15272"
                          stroke="#DFDFEC"
                          stroke-width="1.27059"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                        <path
                          d="M18.4707 16L18.4707 1.6"
                          stroke="#DFDFEC"
                          stroke-width="1.27059"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                      </svg>
                    </div>
                  </div>
                  <h2 class="">ЖК мониторы РЕКЛАМА</h2>
                  <p>
                    Реклама на опорах освещения! ЖК-панели, ПО, размещение
                    рекламы. Привлеките внимание аудитории, увеличьте продажи.
                  </p>
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="scene-container">
      <div data-scene class="sticky-container sticky-container--mob">
        <div class="scene-container__el sticky-container__el">
          <div class="scene-content--blocks scene-content container">
            <div class="col-start-3 col-span-4">
              <div class="scene-content__el">
                <a href="/">
                  <div class="gap-[6px] flex items-center mb-3 xl:mb-4">
                    <div
                      class="w-10 h-8 xl:h-10 rounded-lg flex items-center justify-center border border-gray20 text-13reg sm:text-14reg"
                    >
                      <span>05</span>
                    </div>
                    <div
                      class="w-10 h-8 xl:h-10 rounded-lg flex items-center justify-center border border-gray20"
                    >
                      <svg
                        class="h-auto w-[0.875rem] sm:w-[1.0625rem]"
                        viewBox="0 0 20 17"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <path
                          d="M5.76797 1.6001H13.3847C13.9075 1.6001 14.374 1.61722 14.7923 1.67708C17.0202 1.94216 17.6234 3.05379 17.6234 6.09796V11.5022C17.6234 14.5464 17.0202 15.658 14.7923 15.9231C14.374 15.983 13.9156 16.0001 13.3847 16.0001H5.76797C5.24517 16.0001 4.77868 15.983 4.36044 15.9231C2.13252 15.658 1.5293 14.5464 1.5293 11.5022V6.09796C1.5293 3.05379 2.13252 1.94216 4.36044 1.67708C4.77868 1.61722 5.24517 1.6001 5.76797 1.6001Z"
                          stroke="#DFDFEC"
                          stroke-width="1.27059"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                        <path
                          d="M4.91797 10.9177H4.93566H14.2356"
                          stroke="#DFDFEC"
                          stroke-width="1.27059"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                        <path
                          d="M11.6943 7.52954H11.6992L14.2355 7.52954"
                          stroke="#DFDFEC"
                          stroke-width="1.27059"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                        <path
                          d="M4.91797 7.52954H4.91958H5.76503"
                          stroke="#DFDFEC"
                          stroke-width="1.27059"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                        <path
                          d="M8.30566 7.52954H8.30727H9.15272"
                          stroke="#DFDFEC"
                          stroke-width="1.27059"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                        <path
                          d="M18.4707 16L18.4707 1.6"
                          stroke="#DFDFEC"
                          stroke-width="1.27059"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                      </svg>
                    </div>
                  </div>
                  <h2 class="">ВН</h2>
                  <p>
                    Видеонаблюдение для "Безопасного города"! Камеры, ПО,
                    мониторинг трафика, АХП, повысьте безопасность,
                    оптимизируйте работу. Надежное решение, простота установки.
                  </p>
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="scene-container">
      <div data-scene class="sticky-container sticky-container--mob">
        <div class="scene-container__el sticky-container__el">
          <div class="scene-content--blocks scene-content container">
            <div class="col-start-7 col-span-4">
              <div class="scene-content__el">
                <a href="/">
                  <div class="gap-[6px] flex items-center mb-3 xl:mb-4">
                    <div
                      class="w-10 h-8 xl:h-10 rounded-lg flex items-center justify-center border border-gray20 text-13reg sm:text-14reg"
                    >
                      <span>06</span>
                    </div>
                    <div
                      class="w-10 h-8 xl:h-10 rounded-lg flex items-center justify-center border border-gray20"
                    >
                      <svg
                        class="h-auto w-[0.875rem] sm:w-[1.0625rem]"
                        viewBox="0 0 20 17"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <path
                          d="M5.76797 1.6001H13.3847C13.9075 1.6001 14.374 1.61722 14.7923 1.67708C17.0202 1.94216 17.6234 3.05379 17.6234 6.09796V11.5022C17.6234 14.5464 17.0202 15.658 14.7923 15.9231C14.374 15.983 13.9156 16.0001 13.3847 16.0001H5.76797C5.24517 16.0001 4.77868 15.983 4.36044 15.9231C2.13252 15.658 1.5293 14.5464 1.5293 11.5022V6.09796C1.5293 3.05379 2.13252 1.94216 4.36044 1.67708C4.77868 1.61722 5.24517 1.6001 5.76797 1.6001Z"
                          stroke="#DFDFEC"
                          stroke-width="1.27059"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                        <path
                          d="M4.91797 10.9177H4.93566H14.2356"
                          stroke="#DFDFEC"
                          stroke-width="1.27059"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                        <path
                          d="M11.6943 7.52954H11.6992L14.2355 7.52954"
                          stroke="#DFDFEC"
                          stroke-width="1.27059"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                        <path
                          d="M4.91797 7.52954H4.91958H5.76503"
                          stroke="#DFDFEC"
                          stroke-width="1.27059"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                        <path
                          d="M8.30566 7.52954H8.30727H9.15272"
                          stroke="#DFDFEC"
                          stroke-width="1.27059"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                        <path
                          d="M18.4707 16L18.4707 1.6"
                          stroke="#DFDFEC"
                          stroke-width="1.27059"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                      </svg>
                    </div>
                  </div>
                  <h2 class="">Общественное вещание и оповещение</h2>
                  <p>
                    Оборудование, ПО, трансляции, оповещение ГОиЧС.
                    Информирование населения, повышение безопасности.
                  </p>
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="scene-container">
      <div data-scene class="sticky-container sticky-container--mob">
        <div class="scene-container__el sticky-container__el">
          <div class="scene-content--blocks scene-content container">
            <div class="col-start-7 col-span-4">
              <div class="scene-content__el">
                <a href="/">
                  <div class="gap-[6px] flex items-center mb-3 xl:mb-4">
                    <div
                      class="w-10 h-8 xl:h-10 rounded-lg flex items-center justify-center border border-gray20 text-13reg sm:text-14reg"
                    >
                      <span>07</span>
                    </div>
                    <div
                      class="w-10 h-8 xl:h-10 rounded-lg flex items-center justify-center border border-gray20"
                    >
                      <svg
                        class="h-auto w-[0.875rem] sm:w-[1.0625rem]"
                        viewBox="0 0 20 17"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <path
                          d="M5.76797 1.6001H13.3847C13.9075 1.6001 14.374 1.61722 14.7923 1.67708C17.0202 1.94216 17.6234 3.05379 17.6234 6.09796V11.5022C17.6234 14.5464 17.0202 15.658 14.7923 15.9231C14.374 15.983 13.9156 16.0001 13.3847 16.0001H5.76797C5.24517 16.0001 4.77868 15.983 4.36044 15.9231C2.13252 15.658 1.5293 14.5464 1.5293 11.5022V6.09796C1.5293 3.05379 2.13252 1.94216 4.36044 1.67708C4.77868 1.61722 5.24517 1.6001 5.76797 1.6001Z"
                          stroke="#DFDFEC"
                          stroke-width="1.27059"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                        <path
                          d="M4.91797 10.9177H4.93566H14.2356"
                          stroke="#DFDFEC"
                          stroke-width="1.27059"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                        <path
                          d="M11.6943 7.52954H11.6992L14.2355 7.52954"
                          stroke="#DFDFEC"
                          stroke-width="1.27059"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                        <path
                          d="M4.91797 7.52954H4.91958H5.76503"
                          stroke="#DFDFEC"
                          stroke-width="1.27059"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                        <path
                          d="M8.30566 7.52954H8.30727H9.15272"
                          stroke="#DFDFEC"
                          stroke-width="1.27059"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                        <path
                          d="M18.4707 16L18.4707 1.6"
                          stroke="#DFDFEC"
                          stroke-width="1.27059"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                      </svg>
                    </div>
                  </div>
                  <h2 class="">Умный свет с БУС</h2>
                  <p>
                    Управление по расписанию/датчику, контроль, передача данных.
                    LoRaWAN, надежность, экономия.
                  </p>
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="scene-container">
      <div data-scene class="sticky-container sticky-container--mob">
        <div class="scene-container__el sticky-container__el">
          <div class="scene-content--blocks scene-content container">
            <div class="col-start-3 col-span-4">
              <div class="scene-content__el">
                <a href="/">
                  <div class="gap-[6px] flex items-center mb-3 xl:mb-4">
                    <div
                      class="w-10 h-8 xl:h-10 rounded-lg flex items-center justify-center border border-gray20 text-13reg sm:text-14reg"
                    >
                      <span>08</span>
                    </div>
                    <div
                      class="w-10 h-8 xl:h-10 rounded-lg flex items-center justify-center border border-gray20"
                    >
                      <svg
                        class="h-auto w-[0.875rem] sm:w-[1.0625rem]"
                        viewBox="0 0 20 17"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <path
                          d="M5.76797 1.6001H13.3847C13.9075 1.6001 14.374 1.61722 14.7923 1.67708C17.0202 1.94216 17.6234 3.05379 17.6234 6.09796V11.5022C17.6234 14.5464 17.0202 15.658 14.7923 15.9231C14.374 15.983 13.9156 16.0001 13.3847 16.0001H5.76797C5.24517 16.0001 4.77868 15.983 4.36044 15.9231C2.13252 15.658 1.5293 14.5464 1.5293 11.5022V6.09796C1.5293 3.05379 2.13252 1.94216 4.36044 1.67708C4.77868 1.61722 5.24517 1.6001 5.76797 1.6001Z"
                          stroke="#DFDFEC"
                          stroke-width="1.27059"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                        <path
                          d="M4.91797 10.9177H4.93566H14.2356"
                          stroke="#DFDFEC"
                          stroke-width="1.27059"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                        <path
                          d="M11.6943 7.52954H11.6992L14.2355 7.52954"
                          stroke="#DFDFEC"
                          stroke-width="1.27059"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                        <path
                          d="M4.91797 7.52954H4.91958H5.76503"
                          stroke="#DFDFEC"
                          stroke-width="1.27059"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                        <path
                          d="M8.30566 7.52954H8.30727H9.15272"
                          stroke="#DFDFEC"
                          stroke-width="1.27059"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                        <path
                          d="M18.4707 16L18.4707 1.6"
                          stroke="#DFDFEC"
                          stroke-width="1.27059"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                      </svg>
                    </div>
                  </div>
                  <h2 class="">ЗСЭ</h2>
                  <p>
                    Зарядка электромобилей на опорах освещения! Мониторинг,
                    управление сетью, зарядные станции. Экологичный транспорт,
                    удобство для пользователей.
                  </p>
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="scene-container">
      <div data-scene class="sticky-container sticky-container--mob">
        <div class="scene-container__el sticky-container__el">
          <div class="scene-content--blocks scene-content container">
            <div class="col-start-3 col-span-4">
              <div class="scene-content__el">
                <a href="/">
                  <div class="gap-[6px] flex items-center mb-3 xl:mb-4">
                    <div
                      class="w-10 h-8 xl:h-10 rounded-lg flex items-center justify-center border border-gray20 text-13reg sm:text-14reg"
                    >
                      <span>09</span>
                    </div>
                    <div
                      class="w-10 h-8 xl:h-10 rounded-lg flex items-center justify-center border border-gray20"
                    >
                      <svg
                        class="h-auto w-[0.875rem] sm:w-[1.0625rem]"
                        viewBox="0 0 20 17"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <path
                          d="M5.76797 1.6001H13.3847C13.9075 1.6001 14.374 1.61722 14.7923 1.67708C17.0202 1.94216 17.6234 3.05379 17.6234 6.09796V11.5022C17.6234 14.5464 17.0202 15.658 14.7923 15.9231C14.374 15.983 13.9156 16.0001 13.3847 16.0001H5.76797C5.24517 16.0001 4.77868 15.983 4.36044 15.9231C2.13252 15.658 1.5293 14.5464 1.5293 11.5022V6.09796C1.5293 3.05379 2.13252 1.94216 4.36044 1.67708C4.77868 1.61722 5.24517 1.6001 5.76797 1.6001Z"
                          stroke="#DFDFEC"
                          stroke-width="1.27059"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                        <path
                          d="M4.91797 10.9177H4.93566H14.2356"
                          stroke="#DFDFEC"
                          stroke-width="1.27059"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                        <path
                          d="M11.6943 7.52954H11.6992L14.2355 7.52954"
                          stroke="#DFDFEC"
                          stroke-width="1.27059"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                        <path
                          d="M4.91797 7.52954H4.91958H5.76503"
                          stroke="#DFDFEC"
                          stroke-width="1.27059"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                        <path
                          d="M8.30566 7.52954H8.30727H9.15272"
                          stroke="#DFDFEC"
                          stroke-width="1.27059"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                        <path
                          d="M18.4707 16L18.4707 1.6"
                          stroke="#DFDFEC"
                          stroke-width="1.27059"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                      </svg>
                    </div>
                  </div>
                  <h2 class="">Кнопка 112</h2>
                  <p>
                    Быстрый вызов помощи! Вызывная панель, ПО, связь с
                    экстренными службами. Повысьте безопасность, обеспечьте
                    оперативную помощь.
                  </p>
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="h-10 xl:h-screen final-trigger"></div>
  </div>
</div>
<section class="sticky-container sticky-container--mob " id="singleOporaContainer">
  <div class="sticky-container__el h-screen">
    <div class="swiper" id="singleOporaSlider">
      <div class="relative single-el__list swiper-wrapper">
        <div class="single-el__item swiper-slide">
          <div class="h-full flex items-center justify-center">
            <div class="w-full container xl:grid grid-cols-12 gap-5 items-center h-full xl:h-fit">
              <div class="col-start-3 col-span-5">
                <div
                  class="text-14reg sm:text-14med flex items-center gap-2 mb-10 xl:mb-[3.75rem]"
                >
                  <div class="h-[1px] w-[1.375rem] bg-white"></div>
                  <div>About</div>
                </div>
                <div>
                  <h2 class="text-24med sm:text-48med mb-3 xl:mb-6">
                    Algo is a data-visualization
                  </h2>
                  <p
                    class="text-14reg sm:text-17reg text-[#c4c4c4] mb-6 xl:mb-9 max-w-[23.75rem]"
                  >
                    Algo is a data-visualization studio specializing in
                    <span class="text-gradient text-gradient-animation"
                      >video automation</span
                    >. We build dashboards that turn data into videos, at scale. Algo is
                    a data-visualization studio specializing in video automation. We
                    build dashboards that turn data into videos, at scale.
                  </p>
                  <a
                    href="/"
                    class="text-17reg text-gray10 flex flex-col gap-[2px] w-fit"
                  >
                    <span>Contnue</span>
                    <span class="gradient-line"></span>
                  </a>
                </div>
              </div>
              <img class="col-start-8 col-span-3 h-1/2 mx-auto xl:h-auto" src="/img/main/main-slider1.webp" alt="" />
            </div>
          </div>
        </div>
        <div class="single-el__item swiper-slide">
          <div class="h-full flex items-center justify-center">
            <div class="w-full container xl:grid grid-cols-12 gap-5 items-center h-full xl:h-fit">
              <div class="col-start-3 col-span-5">
                <div
                  class="text-14reg sm:text-14med flex items-center gap-2 mb-10 xl:mb-[3.75rem]"
                >
                  <div class="h-[1px] w-[1.375rem] bg-white"></div>
                  <div>About</div>
                </div>
                <div>
                  <h2 class="text-24med sm:text-48med mb-3 xl:mb-6">
                    Algo is a data-visualization
                  </h2>
                  <p
                    class="text-14reg sm:text-17reg text-[#c4c4c4] mb-6 xl:mb-9 max-w-[23.75rem]"
                  >
                    Algo is a data-visualization studio specializing in
                    <span class="text-gradient text-gradient-animation"
                      >video automation</span
                    >. We build dashboards that turn data into videos, at scale. Algo is
                    a data-visualization studio specializing in video automation. We
                    build dashboards that turn data into videos, at scale.
                  </p>
                  <a
                    href="/"
                    class="text-17reg text-gray10 flex flex-col gap-[2px] w-fit"
                  >
                    <span>Contnue</span>
                    <span class="gradient-line"></span>
                  </a>
                </div>
              </div>
              <img class="col-start-8 col-span-3 h-1/2 mx-auto xl:h-auto" src="/img/main/main-slider2.webp" alt="" />
            </div>
          </div>
        </div>
        <div class="single-el__item swiper-slide">
          <div class="h-full flex items-center justify-center">
            <div class="w-full container xl:grid grid-cols-12 gap-5 items-center h-full xl:h-fit">
              <div class="col-start-3 col-span-5">
                <div
                  class="text-14reg sm:text-14med flex items-center gap-2 mb-10 xl:mb-[3.75rem]"
                >
                  <div class="h-[1px] w-[1.375rem] bg-white"></div>
                  <div>About</div>
                </div>
                <div>
                  <h2 class="text-24med sm:text-48med mb-3 xl:mb-6">
                    Algo is a data-visualization
                  </h2>
                  <p
                    class="text-14reg sm:text-17reg text-[#c4c4c4] mb-6 xl:mb-9 max-w-[23.75rem]"
                  >
                    Algo is a data-visualization studio specializing in
                    <span class="text-gradient text-gradient-animation"
                      >video automation</span
                    >. We build dashboards that turn data into videos, at scale. Algo is
                    a data-visualization studio specializing in video automation. We
                    build dashboards that turn data into videos, at scale.
                  </p>
                  <a
                    href="/"
                    class="text-17reg text-gray10 flex flex-col gap-[2px] w-fit"
                  >
                    <span>Contnue</span>
                    <span class="gradient-line"></span>
                  </a>
                </div>
              </div>
              <img class="col-start-8 col-span-3 h-1/2 mx-auto xl:h-auto" src="/img/main/main-slider1.webp" alt="" />
            </div>
          </div>
        </div>
        <div class="single-el__item swiper-slide">
          <div class="h-full flex items-center justify-center">
            <div class="w-full container xl:grid grid-cols-12 gap-5 items-center h-full xl:h-fit">
              <div class="col-start-3 col-span-5">
                <div
                  class="text-14reg sm:text-14med flex items-center gap-2 mb-10 xl:mb-[3.75rem]"
                >
                  <div class="h-[1px] w-[1.375rem] bg-white"></div>
                  <div>About</div>
                </div>
                <div>
                  <h2 class="text-24med sm:text-48med mb-3 xl:mb-6">
                    Algo is a data-visualization
                  </h2>
                  <p
                    class="text-14reg sm:text-17reg text-[#c4c4c4] mb-6 xl:mb-9 max-w-[23.75rem]"
                  >
                    Algo is a data-visualization studio specializing in
                    <span class="text-gradient text-gradient-animation"
                      >video automation</span
                    >. We build dashboards that turn data into videos, at scale. Algo is
                    a data-visualization studio specializing in video automation. We
                    build dashboards that turn data into videos, at scale.
                  </p>
                  <a
                    href="/"
                    class="text-17reg text-gray10 flex flex-col gap-[2px] w-fit"
                  >
                    <span>Contnue</span>
                    <span class="gradient-line"></span>
                  </a>
                </div>
              </div>
              <img class="col-start-8 col-span-3 h-1/2 mx-auto xl:h-auto" src="/img/main/main-slider2.webp" alt="" />
            </div>
          </div>
        </div>
        
      </div>
    </div>
  </div>
 
</section>
<section class="current-work sticky-container overflow-hidden">
  <div class="sticky-container__el">
    <div class="h-screen flex relative container " id="CatalogOporaAnimation">
      <div class="m-auto text-center relative z-20">
        <h2 class="text-24med sm:text-40med mb-2 sm:mb-4">
          Algo is a data-visualization
        </h2>
        <p class="text-14reg sm:text-17med text-[#b9b9b9] max-w-[23.75rem] mx-auto">
          Создайте свою  
          <span class="text-gradient text-gradient-animation"
            >video automation.</span
          >
        </p>
      </div>
      <div class=" absolute inset-0 catalog-opora-animation z-10 pointer-events-none">
          <div class="catalog-item absolute">
            <div class="catalog-item__img">
              <img src="img/cat.webp" alt="" />
              <span class="catalog-item__btn"> </span>
            </div>
          </div>
          <div class="catalog-item absolute  catalog-item--white">
            <div class="catalog-item__img">
              <img src="img/cat.webp" alt="" />
              <span class="catalog-item__btn"> </span>
            </div>
          </div>
          <div class="catalog-item absolute">
            <div class="catalog-item__img">
              <img src="img/cat.webp" alt="" />
              <span class="catalog-item__btn"> </span>
            </div>
          </div>
          <div class="catalog-item absolute catalog-item--white">
            <div class="catalog-item__img">
              <img src="img/cat.webp" alt="" />
              <span class="catalog-item__btn"> </span>
            </div>
          </div>
          <div class="catalog-item absolute">
            <div class="catalog-item__img">
              <img src="img/cat.webp" alt="" />
              <span class="catalog-item__btn"> </span>
            </div>
          </div>
          <div class="catalog-item absolute">
            <div class="catalog-item__img">
              <img src="img/cat.webp" alt="" />
              <span class="catalog-item__btn"> </span>
            </div>
          </div>
          <div id="CatalogOporaAnimationTargetMain" class="absolute">
            <div class="catalog-item  catalog-item--white xl:invisible" >
              <div class="catalog-item__img">
                <img src="img/cat.webp" alt="" />
                <span class="catalog-item__btn"> </span>
              </div>
            </div>
          </div>
      </div>
    </div>
  </div>
  <div class="hidden xl:block h-[150vh]" id="CatalogOporaAnimationTrigger">
  </div>
  <div class="xl:h-screen flex">
    <div class="bg-black100 relative z-30 mx-auto xl:my-auto  w-full sm:w-fit rounded-3xl">
      <div
        class=" w-full sm:w-fit default-background px-5 py-6 sm:px-10 sm:pb-10 sm:pt-8 "
      >
        <div class="text-center">
          <h2 class="text-17med sm:text-27med mb-2 sm:mb-1">
            Наши модули 
          </h2>
          <p
            class="text-14reg sm:text-17med text-gradient text-gradient-animation mx-auto"
          >
          Создайте свою функциональную опору 
          </p>
        </div>
        
        <a
          href="/"
          class="button button--primary w-fit mx-auto mt-6 mb-8 md:mt-8 md:mb-10"
        >
          <span>В каталог</span>
        </a>
        <div
          class="gap-6 grid grid-cols-[280px] justify-center sm:grid-cols-2 lg:grid-cols-4 lg:gap-10"
        >
         
           <a href="/" class="catalog-item catalog-item--white" id="CatalogOporaAnimationTarget">
             <div class="catalog-item__img-container">
               <div class="catalog-item__img">
                 <img src="img/cat.webp" alt="" />
                 <span class="catalog-item__btn"> </span>
               </div>
             </div>
             <div class="catalog-item__text">
               <p>ZIG12-02</p>
               <p>Модификация уличной опоры</p>
             </div>
           </a>
         
          <a href="/" class="catalog-item catalog-item--white">
            <div class="catalog-item__img">
              <img src="img/cat.webp" alt="" />
              <span class="catalog-item__btn"> </span>
            </div>
            <div class="catalog-item__text">
              <p>ZIG12-02</p>
              <p>Модификация уличной опоры</p>
            </div>
          </a>
          <a href="/" class="catalog-item catalog-item--white">
            <div class="catalog-item__img">
              <img src="img/cat.webp" alt="" />
              <span class="catalog-item__btn"> </span>
            </div>
            <div class="catalog-item__text">
              <p>ZIG12-02</p>
              <p>Модификация уличной опоры</p>
            </div>
          </a>
          <a href="/" class="catalog-item catalog-item--white">
            <div class="catalog-item__img">
              <img src="img/cat.webp" alt="" />
              <span class="catalog-item__btn"> </span>
            </div>
            <div class="catalog-item__text">
              <p>ZIG12-02</p>
              <p>Модификация уличной опоры</p>
            </div>
          </a>
        </div>
      </div>
     </div>
  </div>
 </section>
<section
  class="lg:h-[200vh] animation-block--v1 pb-20 lg:pb-0 pt-28 lg:pt-0 lg:mt-[3.125rem] container"
>
  <div
    class="flex flex-col gap-y-10 justify-between h-full lg:h-fit lg:grid grid-cols-12 gap-5 animation-block--v1__block"
  >
    <div class="col-start-3 col-span-4 h-fit animation-block--v1__text">
      <h2 class="text-24med sm:text-48med mb-3 sm:mb-6 text-from-bot">
        Цифровая <br />
        городская среда
      </h2>
      <p class="text-14reg text-[#c4c4c4] sm:text-17reg mb-4 sm:mb-10 text-from-bot">
        Автоматизированная система управления RADUGA «Цифровая городская среда»
        предназначена для создания комфортных и безопасных условий проживания и
        повышения эффективности внутригородских систем жизнеобеспечения.
      </p>
      <a href="/" class="text-17reg text-gray10 flex flex-col gap-[2px] w-fit text-from-bot">
        <span>Подробнее</span>
        <span class="gradient-line"></span>
      </a>
    </div>
    <div class="animation-block--v1__img col-start-8 col-span-3">
      <img class="show" src="/img/main/img1.webp" alt="" />
      <img src="https://images.unsplash.com/photo-1714386002041-06e84d3633f7?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wxODY2Nzh8MHwxfHJhbmRvbXx8fHx8fHx8fDE3MTY5NTU3Njl8&ixlib=rb-4.0.3&q=80&w=1080" alt="" />
      <img src="https://images.unsplash.com/photo-1715787803917-d25f112866fe?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wxODY2Nzh8MHwxfHJhbmRvbXx8fHx8fHx8fDE3MTY5NTU3ODV8&ixlib=rb-4.0.3&q=80&w=1080" alt="" />
      <img src="https://images.unsplash.com/photo-1715428019327-fa9363fba1ef?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wxODY2Nzh8MHwxfHJhbmRvbXx8fHx8fHx8fDE3MTY5NTU4MDR8&ixlib=rb-4.0.3&q=80&w=1080" alt="" />
      <img src="https://images.unsplash.com/photo-1714329454060-7b243446995b?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wxODY2Nzh8MHwxfHJhbmRvbXx8fHx8fHx8fDE3MTY5NTU4MTV8&ixlib=rb-4.0.3&q=80&w=1080" alt="" />
    </div>
  </div>
</section>
<section
  class="form-section xl:pt-48 xl:pb-32 py-24 sm:py-32 lg:grid grid-cols-12 gap-5 flex items-center justify-center"
>
  <div
    class="form-container py-6 px-5 lg:py-[3.125rem] lg:px-[3.25rem] default-background col-span-8 col-start-3 w-full"
  >
    <div
      class="form-container__heading text-center w-fit mx-auto mb-8 sm:mb-10"
    >
      <h2 class="text-24med sm:text-32med mb-2 sm:mb-3">Оставить заявку</h2>
      <p
        class="text-14reg sm:text-14med text-gray20 max-w-[280px] lg:max-w-[321px]"
      >
        Заполните заявку и наш менеджер свяжется с вами в ближайшее время
      </p>
    </div>
    <form action="" class="">
      <div class="gap-3 lg:grid flex flex-col grid-cols-4 mb-6 sm:mb-8">
        <input type="text" class="input w-full" placeholder="Имя" />
        <input type="text" class="input w-full" placeholder="Телефон" />
        <input type="text" class="input w-full" placeholder="Почта" />
        <input type="text" class="input w-full" placeholder="Комментарий" />
      </div>
      <div
        class="flex flex-col gap-7 p-[0.625rem] lg:p-0 lg:flex-row items-center justify-center"
      >
        <label for="" class="flex gap-2 flex-1 lg:max-w-[358px] my-[3px]">
          <input type="checkbox" class="checkbox" />
          <span class="block flex-1 text-13med text-[#d4d4d4]"
            >Я согласен(а) на обработку персональных данных и с политикой
            обработки персональных данных</span
          >
        </label>
        <button
          type="button"
          class="button button--primary w-full lg:w-fit lg:h-full"
        >
          Оставить заявку
        </button>
      </div>
    </form>
  </div>
</section>
<script>
  const canvas = document.getElementById("video-canvas");
  const context = canvas.getContext("2d");
  const laoderLoad = document.getElementById("laoder");
  const htmlLoad = document.querySelector("html");
  const headerLoad = document.querySelector(".navigation");
  const canvasLoad = document.getElementById("video-canvas");
  const showFromBot = document.querySelectorAll(".showing-from-bot");
  let  citiesWidths,
      citiesProgressWrap,
      ctxCity,
      tlCity,
      currentCity,
      nextCity
  const getImages = (format) => {
    const currentFrame = (index) => {
      let curCount = 10000 + index;
      return `https://raw.githubusercontent.com/radugaLight/${
        matchMedia("(max-width: 1280px) and (orientation: portrait)").matches
          ? "smartopora-frameMob"
          : "smartopora-frame"
      }/main/${curCount}.${format}`;
    };

    for (let i = 0; i < sequenceState.frameCount; i++) {
      const img = new Image();
      img.src = currentFrame(i);
      img.addEventListener(
        "load",
        () => {
          persent += 100 / (sequenceState.frameCount - 1);

          document.getElementById("loaderProgress").innerText =
            Math.round(persent);
          document
            .getElementById("loaderProgressLine")
            .style.setProperty(
              "--translate-x",
              `-${-1 * Math.round(persent) + 100}%`
            );
        },
        { once: true }
      );
      sequenceState.images[i] = img;
    }

    if (sequenceState.images[0]) {
      if (sequenceState.images[0].complete) {
        onResize();
      } else {
        sequenceState.images[0].onload = () => onResize();
      }
    }
  };

  new Promise(() => {
    const image = new Image();
    image.onerror = () => {
      getImages("webp");
    };
    image.onload = () => {
      getImages("avif");
    };
    image.src =
      "data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=";
  }).catch(() => false);

  headerLoad.classList.add("-translate-y-full");
  headerLoad.style.transitionDuration = "1000ms";
  canvasLoad.style.transform = "translateY(100%)";
  showFromBot.forEach((element) => {
    element.style.setProperty("--tw-translate-y", "200%");
  });

  document.querySelector("html").classList.add("overflow-hidden");

  let persent = 0;

  const sequenceState = {
    frameCount: window.innerWidth < 1280 ? 1000 : 1150,
    images: [],
  };

  let frameBreakers =
    window.innerWidth < 1280
      ? [0, 149, 244, 399, 499, 649, 749, 899, 999]
      : [0, 149, 299, 449, 599, 749, 849, 1049, 1149];

  const cano = {
    frame: 0,
  };

  let prevFrame = -1;

  function render(force = false) {
    if (canvas && context && sequenceState.images[cano.frame] && (force ? true : cano.frame !== prevFrame)) {
      
    const isMobile = matchMedia(
      "(max-width: 1280px) and (orientation: portrait)"
    ).matches;


    const imgWidth = isMobile ? 1080 : 1920;
    const imgHeight = isMobile ? 1920 : 1080;
    const imgAspectRatio = imgWidth / imgHeight;
    const canvasAspectRatio = canvas.width / canvas.height;
    let x = 0;
    let y = 0;
    let width = canvas.width;
    let height = canvas.height;

      
    if (imgAspectRatio < canvasAspectRatio) {
      height = width / imgAspectRatio;
      y = (canvas.height - height) / 2;
    } else {
      width = height * imgAspectRatio;
      x = (canvas.width - width) / 2;
    }

      context.drawImage(sequenceState.images[cano.frame], x, y, width, height);

      if (sequenceState.images[cano.frame].complete) {
          prevFrame = cano.frame;
      }
    }
  }

  function setCanvasDimensions() {
    const dpr = Math.min(window.devicePixelRatio, 2);
    if (canvas) {
      canvas.width = window.innerWidth * dpr;
      canvas.height = window.innerHeight * dpr;
      render(true);
    }
  }

  function onResize() {
    setCanvasDimensions();
  }

  function onWindowResize () {
    window.location.reload()
  }

  const debouncedOnResize = debounce(onWindowResize, 100);

  if(window.innerWidth > 1279){
    window.addEventListener("resize", debouncedOnResize);
  }


  document.addEventListener(
    "DOMContentLoaded",
    function () {
      const singleOpora = document.getElementById('singleOporaContainer')
      const singleOporaSliderEl = document.getElementById('singleOporaSlider')
      const singleOporaSldes = singleOporaSliderEl.querySelectorAll('.swiper-slide')
      let singleOporaSlider
      lockScroll.stop();

      const scenes = gsap.utils.toArray("[data-scene]");
      const scenesCount =  document.getElementById('mainPageStagePagCount')

      document.getElementById('mainPageStagePagCountLimit').innerHTML = scenes.length;

      scenes.forEach((el, i) => {
        let anim = gsap.fromTo(
          cano,
          {
            frame: frameBreakers[i],
          },
          {
            frame: frameBreakers[i + 1],
            snap: "frame",
            ease: 'none',
            scrollTrigger: {
              trigger: scenes[i],
              start: "top bottom+=100%",
              end: () => `top top`,
              scrub: true,
              onEnter: () => {
                scenesCount.innerHTML = i + 1;
              },
              onLeaveBack: () => {
                scenesCount.innerHTML = i === 0 ? 1 : i;
              },
              
            },
            onUpdate: () => {
              render();
            }
          }
        );
        cano.frame = 0;
        render();

        if (scenes.length - 1 === i) {
          anim.eventCallback("onComplete", () => {
            const sceneTarget = el.querySelector('.scene-content--blocks')

            const y = {
              scrollTrigger: {
                trigger: ".video-canvas__container .final-trigger",
                start: "top bottom",
                end: "bottom bottom",
                scrub: 0.5,
              }
            }
            const t = {
              opacity: 0,
              ...y
            }

            gsap.to(sceneTarget, t);
            gsap.to('#video-canvas', t);
            gsap.to('#mainPageStagePag', t)


            
          });
        }
      });

      scenes.forEach((scene, i) => {
        gsap.fromTo(
          scene.querySelectorAll(".scene-content__el"),
          {
            opacity: 0,
            top: 30,
          },
          {
            opacity: 1,
            top: 0,
            duration: 0.3,
            scrollTrigger: {
              trigger: scene,
              start: `top top`,
              toggleActions: "restart none none reverse",
            },
          }
        );
      });

      const firstBlock = document.getElementById("firstBlock");
      gsap.fromTo(
        firstBlock,
        {
          opacity: 1,
          y: 0,
        },
        {
          opacity: 0,
          y: "-100%",
          ease: "linear",
          duration: 0.3,
          scrollTrigger: {
            trigger: firstBlock,
            start: "top+=30% top",
            toggleActions: "restart none none reverse",
          },
          
        }
      );

      const animv1 = document.querySelector(".animation-block--v1");
      const animv1Block = document.querySelector(".animation-block--v1__block");
      const animv1Text = document.querySelector(".animation-block--v1__text");
      const animv1Img = document.querySelector(".animation-block--v1__img");
      const animv1ImgArr = document.querySelectorAll(".animation-block--v1__img > img");

      const animFrames = {
        img: 0
      }

      let prevImg = 0;

      function setImage() {
        animv1ImgArr[prevImg].classList.remove('show')
        animv1ImgArr[animFrames.img].classList.add('show')

        prevImg = animFrames.img
      }

      const botBlockAnim = {
        scrollTrigger: {
              trigger: animv1,
              start: "top center",
              end: `bottom center`,
              // invalidateOnRefresh: true,
              scrub: true,
            },
            ease: "none",
            delay: 0,
      }

      if (window.innerWidth > 1024) {
        gsap.fromTo(
          animv1Block,
          {
            y: 0,
          },
          {
            y: () => animv1.clientHeight - animv1Block.clientHeight,
           ...botBlockAnim
          }
        );
        gsap.fromTo(
          animv1Text,
          {
            y: 0,
          },
          {
            y: () => animv1Block.clientHeight - animv1Text.clientHeight,
            ...botBlockAnim
          }
        );
        const g = gsap.to(
          animFrames,
          {
            img: animv1ImgArr.length - 1,
            snap: "img",
            ...botBlockAnim
          }
        );

        g.eventCallback("onUpdate", () => {
          setImage()
        });

        
        

        gsap.fromTo(singleOporaSliderEl, {
          y: '-200%',

        }, {
          y: 0,
          ease: 'none',
          scrollTrigger: {
            trigger: singleOpora,
            start: "top 200%",
            end: `top top`,
            scrub: true,
          },
        })

        gsap.fromTo(singleOporaSliderEl, {
          scale: 0,
          opacity: 0,
        }, {
          scale: 1,
          opacity: 1,
          scrollTrigger: {
            trigger: singleOpora,
            start: "top 150%",
            end: `top bottom`,
            scrub: 0.5,
          },
        })

         singleOporaSlider = new Swiper(singleOporaSliderEl, {
          direction: 'vertical',
          allowTouchMove: false
        })
      } else {
         singleOporaSlider = new Swiper(singleOporaSliderEl, {
          allowTouchMove: false,
          effect: "fade",
        })
      }

      

      
      singleOporaSldes.forEach((el, i) => {
        const trigger = document.createElement('div')
        trigger.classList.add('trigger')
        singleOpora.appendChild(trigger)
      })

      const singleOporaTriggers = gsap.utils.toArray('#singleOporaContainer .trigger')

      singleOporaTriggers.forEach((el, i) => {
        ScrollTrigger.create({
            trigger: el,
            start: 'top top',
            onEnter: () => {
              singleOporaSlider.slideTo(i)
            },
            onLeaveBack: () => {
              singleOporaSlider.slideTo(i)
            }
          })
      })




      const cities = document.querySelectorAll('.cities span'),
            citiesBg = document.querySelector('.cities .button'),
            containerCity = document.querySelector(".cities-container")
        
      
      
      window.addEventListener('resize', ()=>{
        ctxCity.revert(),
        ctxCity.kill(),
        ctxCity = gsap.context(()=>{
            setupCity(),
            buildTimeline(),
            tlCity.pause().seek(1.5).play()
        })
      });

      ctxCity = gsap.context(()=>{
        setupCity(),
        buildTimeline()
      })

      
      function setupCity() {
        citiesWidths = []
        cities.forEach((t,i)=>{
          citiesWidths.push(t.getBoundingClientRect().width),
          i > 0 && gsap.set(t, {
              opacity: 0,
              position: "absolute",
          })
        })
        citiesProgressWrap = gsap.utils.wrap(0, cities.length)
        citiesBg.style.width = citiesWidths[0] + "px"
        currentCity = 0
        nextCity = 1
      }

      function buildTimeline() {
        tlCity = gsap.timeline({
            repeat: -1
        });


        for (let t = 0; t < cities.length; t++) {
            const i = citiesWidths[currentCity] - citiesWidths[nextCity];
            tlCity.to(citiesBg, {
                width: "-=" + i,
                duration: .5,
                ease: "expo.inOut"
            }, (t + 1) * 1.5),
            containerCity && tlCity.set(containerCity, {
                x: 0
            }, 0),
            tlCity.to(cities[currentCity], {
                opacity: 0,
                duration: .5,
                ease: "expo.out"
            }, (t + 1) * 1.5).to(cities[nextCity], {
                opacity: 1,
                overwrite: "auto",
                duration: .5,
                ease: "expo.in"
            }, (t + 1) * 1.5),
            containerCity && tlCity.to(containerCity, {
                x: "+=" + i * .5,
                duration: .5,
                ease: "expo.inOut"
            }, (t + 1) * 1.5),
            currentCity++,
            currentCity = citiesProgressWrap(currentCity),
            nextCity++,
            nextCity = citiesProgressWrap(nextCity)
        }
        tlCity.pause().seek(1.5)
      }

      if(isDesktop){
    const catalogOporaAnimation = document.getElementById('CatalogOporaAnimation'),
          catalogOporaTrigger = document.getElementById('CatalogOporaAnimationTrigger'),
          catalogOporaTarget = document.getElementById('CatalogOporaAnimationTarget'),
          catalogOporaTargetImg = document.querySelector('#CatalogOporaAnimationTarget .catalog-item__img-container .catalog-item__img'),
          catalogOporaTargetImgContainer = document.querySelector('#CatalogOporaAnimationTarget .catalog-item__img-container'),
          catalogOporaTargetText = document.querySelector('#CatalogOporaAnimationTarget .catalog-item__text'),
          catalogOporaAnimationTargetMain = document.querySelector('#CatalogOporaAnimationTargetMain .catalog-item'),
          catalogOporaImages = gsap.utils.toArray('.catalog-opora-animation > .catalog-item > .catalog-item__img'),
          catalogOporaImagesBoost = [0.05, 0.07, 0.03, 0.03, 0.065,  0.06]

      catalogOporaTargetImgContainer.classList.add('disabled-default-animation')

          
      let scrollOffset = 0,
        mouseX = 0,
        mouseY = 0
      
      lockScroll.on('scroll', ({scroll}) => {
        scrollOffset = scroll.y
      })

      window.onmousemove = function(e) {
        mouseX = (e.clientX - (window.innerWidth / 2)),
        mouseY = (e.clientY - (window.innerHeight / 2))

        catalogOporaImages.forEach((el, i) => {
          gsap.to(el, {
            y: mouseY  * catalogOporaImagesBoost[i],
            x: mouseX * catalogOporaImagesBoost[i]
          })
        })

        if(catalogOporaTargetImgContainer.classList.contains('disabled-default-animation')) {
          gsap.to(catalogOporaTargetImg, {
            y: mouseY  * 0.03,
            x: mouseX * 0.03
          })
        }
      }


      const catalogTl = gsap.timeline()


      catalogTl.to(catalogOporaAnimation, {
        opacity: 0,
        scrollTrigger: {
          trigger: catalogOporaTrigger,
          start: 'top bottom',
          end: 'bottom center',
          scrub: true,
        },
      })

      catalogTl.fromTo(catalogOporaTargetImgContainer, {
        y: () => (catalogOporaAnimationTargetMain.getBoundingClientRect().top + scrollOffset)  - (catalogOporaTarget.getBoundingClientRect().top + scrollOffset),
        x: () => catalogOporaAnimationTargetMain.getBoundingClientRect().left - catalogOporaTarget.getBoundingClientRect().left,
        scale: () => catalogOporaAnimationTargetMain.clientWidth / catalogOporaTarget.clientWidth
      }, {
        y: () => (catalogOporaTrigger.getBoundingClientRect().top  + scrollOffset) + (catalogOporaTrigger.clientHeight / 2)  - (catalogOporaTarget.getBoundingClientRect().top  + scrollOffset) - catalogOporaTargetImgContainer.clientHeight / 2,
        x: () => window.innerWidth / 2 - catalogOporaTarget.getBoundingClientRect().left - catalogOporaTargetImgContainer.clientWidth / 2,
        scale: 1,
        ease: 'none',
        scrollTrigger: {
          trigger: catalogOporaTrigger,
          start: 'top bottom',
          end: 'center center',
          scrub: true,
        },
      })

      catalogTl.fromTo(catalogOporaTargetImgContainer, 
      {
        y: () => (catalogOporaTrigger.getBoundingClientRect().top  + scrollOffset) + (catalogOporaTrigger.clientHeight / 2)  - (catalogOporaTarget.getBoundingClientRect().top  + scrollOffset) - catalogOporaTargetImgContainer.clientHeight / 2,
        x: () => window.innerWidth / 2 - catalogOporaTarget.getBoundingClientRect().left - catalogOporaTargetImgContainer.clientWidth / 2
      }, 
      {
        // y: () => (catalogOporaTrigger.getBoundingClientRect().top  + scrollOffset) + catalogOporaTrigger.clientHeight  - (catalogOporaTarget.getBoundingClientRect().top  + scrollOffset) - catalogOporaTargetImgContainer.clientHeight / 2,
        y: 0,
        x: 0,
        ease: 'none',
        scrollTrigger: {
          trigger: catalogOporaTrigger,
          start: 'center center',
          end: 'bottom 15%',
          scrub: true,
          onEnterBack: function () {
            catalogOporaTargetImgContainer.classList.add('disabled-default-animation')
          },
        },
        onComplete: () => {
          catalogOporaTargetImgContainer.classList.remove('disabled-default-animation')
        },
        
      }, '>')

      gsap.fromTo(catalogOporaTargetText,{opacity: 0}, {
        opacity: 1,
        duration: 0.5,
        scrollTrigger: {
          trigger: catalogOporaTrigger,
          start: 'bottom 15%',
          toggleActions: "restart none none reverse"
        },
      })

      // catalogTl.fromTo(catalogOporaTargetImgContainer, {
      //   y: () => (catalogOporaTrigger.getBoundingClientRect().top  + scrollOffset) + catalogOporaTrigger.clientHeight  - (catalogOporaTarget.getBoundingClientRect().top  + scrollOffset) - catalogOporaTargetImgContainer.clientHeight / 2,
      //   x: () => window.innerWidth / 2 - catalogOporaTarget.getBoundingClientRect().left - catalogOporaTargetImgContainer.clientWidth / 2,
      // }, {
      //   y: 0,
      //   x: 0, 
      //   ease: "none", 
      //   scrollTrigger: {
      //     trigger: catalogOporaTrigger,
      //     start: 'bottom 75%',
      //     end: 'bottom 15%',
      //     scrub: true,
      //   },
      // }, '>')


      catalogTl.set(catalogOporaTargetImgContainer, {
        y: () => (catalogOporaAnimationTargetMain.getBoundingClientRect().top)  - catalogOporaTarget.getBoundingClientRect().top + scrollOffset,
        x: () => catalogOporaAnimationTargetMain.getBoundingClientRect().left - catalogOporaTarget.getBoundingClientRect().left,
        scale: () => catalogOporaAnimationTargetMain.clientWidth / catalogOporaTarget.clientWidth
      })

    }
    }
  );

  window.addEventListener(
    "load",
    function () {
      setTimeout(function () {
        window.scrollTo(0, 0);
      }, 2);
      setTimeout(function () {
        gsap.to(".loader-progress-container", {
          y: "300%",
          duration: 0.15,
        });
        gsap.to("#loaderProgressLine", {
          y: 0,
          duration: 0.4,
          onComplete: () => {
            laoderLoad.classList.add("opacity-0");
            gsap.fromTo(
              "#firstBlock > div",
              {
                y: "100%",
                opacity: 0,
              },
              {
                y: "0%",
                opacity: 1,
                duration: 0.3,
              }
            );
            setTimeout(function () {
              headerLoad.classList.remove("-translate-y-full");
              laoderLoad.classList.add("-translate-y-full");
              canvasLoad.style.transform = "translateY(0%)";
              showFromBot.forEach((element) => {
                element.style.setProperty("--tw-translate-y", "0%");
              });
              tlCity.play()
              setTimeout(function () {
                htmlLoad.classList.remove("overflow-hidden");
                headerLoad.style.transitionDuration = "150ms";
                document.getElementById('video-canvas').style.transitionDuration = '0s'
                lockScroll.start();
                
              }, 1000);
            }, 150);
          },
        });
      }, 150);
    }
  );
</script>
