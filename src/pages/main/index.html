<div class="video-canvas__container relative">
  <div class="relative sticky-container">
    <div class="h-screen flex pt-[43.333vw] sm:pt-0 sticky-container__el">
      <canvas id="video-canvas" style="width: 100vw; height: 100vh;" class="absolute inset-0"></canvas>
      <div class="z-10 relative mx-auto sm:my-auto" id="firstBlock">
        <h1 class="text-center mb-[6px] sm:mb-3 text-56semi xl:text-89bold">
          SMART <br />
          SUPPROTS
        </h1>
        <div class="flex justify-center items-center gap-[10px] sm:gap-4 cities-container">
          <span class="text-[#9E9E9E] text-13reg sm:text-20reg">
            Наши товары в городах
          </span>
          <div
            class="text-13med sm:text-24reg cities relative button button--secondary bg-none border-none !px-0 !py-0"
          >
            <div class="button button--secondary cursor-default absolute  h-full top-0">
              
            </div>
            <span>Волгоград</span>
            <span>Казань</span>
            <span>Самара</span>
            <span>Омск</span>
            <span>Воронеж</span>
            <span>Москва</span>
            <span>Саратов</span>
          </div>
        </div>
      </div>
    </div>
    <div class="scene-container ">
      <div data-scene class="sticky-container sticky-container--mob" id="scrollToExportTarget">
        <div class="scene-container__el sticky-container__el">
          <div class="scene-content--blocks scene-content container">
            <div
              class="flex flex-col gap-8 justify-center col-start-7 col-span-4"
            >
              <div class="scene-content__el">
                <a href="/">
                  <div class="gap-[6px] flex items-center mb-3 xl:mb-4">
                    <div
                      class="w-10 h-8 xl:h-10 rounded-lg flex items-center justify-center border border-gray20 text-13reg sm:text-14reg"
                    >
                      <span>01</span>
                    </div>
                    <div
                      class="w-10 h-8 xl:h-10 rounded-lg flex items-center justify-center border border-gray20"
                    >
                    <svg width="14" height="20" viewBox="0 0 14 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path fill-rule="evenodd" clip-rule="evenodd" d="M3.75919 0C2.74075 0 1.84629 0.163743 1.22508 0.737036C0.586018 1.3268 0.416592 2.17813 0.416592 3.08333C0.416592 3.36741 0.577094 3.62711 0.831182 3.75415L1.58326 4.13019V5.10601L0.636262 6.053C0.49561 6.19366 0.416592 6.38442 0.416592 6.58333V11.25C0.416592 11.4489 0.49561 11.6397 0.636262 11.7803L1.58326 12.7273V13.856L0.636262 14.803C0.407992 15.0313 0.351401 15.38 0.495772 15.6687L1.07911 16.8354L1.61976 17.9167H0.75C0.335786 17.9167 0 18.2525 0 18.6667C0 19.0809 0.335786 19.4167 0.75 19.4167H13.25C13.6642 19.4167 14 19.0809 14 18.6667C14 18.2525 13.6642 17.9167 13.25 17.9167H12.3801L13.5041 15.6687C13.6485 15.38 13.5919 15.0313 13.3636 14.803L12.4166 13.856V12.7273L13.3636 11.7803C13.5042 11.6397 13.5833 11.4489 13.5833 11.25V6.58333C13.5833 6.38442 13.5042 6.19366 13.3636 6.053L12.4166 5.10601V4.13019L13.1687 3.75415C13.4228 3.62711 13.5833 3.36741 13.5833 3.08333C13.5833 2.17813 13.4138 1.3268 12.7748 0.737036C12.1536 0.163743 11.2591 0 10.2407 0H3.75919ZM10.9595 17.9167C10.894 17.7315 10.901 17.5209 10.9958 17.3313L11.9207 15.4814L11.1363 14.697C10.9956 14.5563 10.9166 14.3656 10.9166 14.1667V12.4167C10.9166 12.2178 10.9956 12.027 11.1363 11.8863L12.0833 10.9393V6.89399L11.1363 5.947C10.9956 5.80634 10.9166 5.61558 10.9166 5.41667V3.66667C10.9166 3.38259 11.0771 3.12289 11.3312 2.99585L12.0615 2.63067C12.0132 2.17927 11.8903 1.96192 11.7575 1.83936C11.5685 1.66497 11.1667 1.5 10.2407 1.5H3.75919C2.83318 1.5 2.43134 1.66497 2.24237 1.83936C2.10957 1.96192 1.98669 2.17927 1.93831 2.63067L2.66867 2.99585C2.92276 3.12289 3.08326 3.38259 3.08326 3.66667V5.41667C3.08326 5.61558 3.00424 5.80634 2.86359 5.947L1.91659 6.89399V10.9393L2.86359 11.8863C3.00424 12.027 3.08326 12.2178 3.08326 12.4167V14.1667C3.08326 14.3656 3.00424 14.5563 2.86359 14.697L2.07916 15.4814L2.42075 16.1646L3.00408 17.3313C3.09889 17.5209 3.10584 17.7315 3.04035 17.9167H10.9595Z" fill="#ADADAD"/>
                    </svg>
                      
                    </div>
                  </div>
                  <h2 class="">LoRaWAN</h2>
                  <p>
                    Удаленное управление данными! Передача/прием (класс "С"),
                    LoRa Semtech, дистанционная настройка, энергонезависимая
                    память, обновление ПО "по воздуху". Надежная сеть, низкое
                    энергопотребление, безопасность
                  </p>
                </a>
              </div>
              <div class="scene-content__el !hidden xl:!flex">
                <a href="/">
                  <div class="gap-[6px] flex items-center mb-3 xl:mb-4">
                    <div
                      class="w-10 h-8 xl:h-10 rounded-lg flex items-center justify-center border border-gray20 text-13reg sm:text-14reg"
                    >
                      <span>02</span>
                    </div>
                    <div
                      class="w-10 h-8 xl:h-10 rounded-lg flex items-center justify-center border border-gray20"
                    >
                    <svg width="18" height="17" viewBox="0 0 18 17" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M14.5625 5.98433C14.7696 5.50365 14.6956 4.85289 14.311 4.28346C13.9339 3.71404 13.3571 3.39605 12.832 3.40345" stroke="#ADADAD" stroke-linecap="round" stroke-linejoin="round"/>
                      <path d="M16.8648 6.71639C17.1754 5.59973 16.9536 4.23167 16.1623 3.04845C15.371 1.86524 14.1878 1.14051 13.0342 1" stroke="#ADADAD" stroke-linecap="round" stroke-linejoin="round"/>
                      <path d="M4.69727 9.13452H8.39481" stroke="#ADADAD" stroke-linecap="round" stroke-linejoin="round"/>
                      <path d="M4.69727 12.0925H11.3528" stroke="#ADADAD" stroke-linecap="round" stroke-linejoin="round"/>
                      <path d="M9.87411 1H6.17656C2.47902 1 1 2.47902 1 6.17656V10.6136C1 14.3112 2.47902 15.7902 6.17656 15.7902H10.6136C14.3112 15.7902 15.7902 14.3112 15.7902 10.6136V9.87411" stroke="#ADADAD" stroke-linecap="round" stroke-linejoin="round"/>
                      </svg>
                      
                    </div>
                  </div>
                  <h2 class="">
                    АПК ЭМ RADUGA
                  </h2>
                  <p>
                    Встроенный экомониторинг на опорах освещения! Датчики и метеостанции для контроля среды, уровня выбросов. Удобное ПО.
                  </p>
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="scene-container">
      <div data-scene class="sticky-container sticky-container--mob">
        <div class="scene-container__el sticky-container__el">
          <div class="scene-content--blocks scene-content container">
            <div class="col-start-3 col-span-4">
              <div class="scene-content__el">
                <a href="/">
                  <div class="gap-[6px] flex items-center mb-3 xl:mb-4">
                    <div
                      class="w-10 h-8 xl:h-10 rounded-lg flex items-center justify-center border border-gray20 text-13reg sm:text-14reg"
                    >
                      <span>03</span>
                    </div>
                    <div
                      class="w-10 h-8 xl:h-10 rounded-lg flex items-center justify-center border border-gray20"
                    >
                    <svg width="17" height="18" viewBox="0 0 17 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M12.9656 4.41058C12.1418 2.75491 10.5581 1.55515 8.75044 1.15523C4.63927 0.259415 1 3.36279 1 7.32199C1 9.62553 2.5117 11.7931 4.35132 12.9049V13.8327C4.35132 14.2566 4.23935 14.6005 5.11917 14.5925H9.52628C10.3821 14.5925 10.2941 14.0566 10.2941 13.8247" stroke="#ADADAD" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                      <path d="M4.51172 17C6.34335 16.4801 8.27896 16.4801 10.1106 17" stroke="#ADADAD" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                      <path d="M14.8415 9.9688L13.9714 10.2619C13.7311 10.3418 13.539 10.5283 13.4589 10.7735L13.1653 11.6421C12.9144 12.3935 11.8574 12.3775 11.6225 11.6261L10.635 8.45537C10.4428 7.82655 11.0247 7.24036 11.6492 7.43753L14.8308 8.42339C15.5782 8.65787 15.5888 9.71833 14.8415 9.9688Z" stroke="#ADADAD" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                      </svg>
                      
                    </div>
                  </div>
                  <h2 class="">БУС</h2>
                  <p>
                    Умный контроль освещения. Управление уличным светильником по
                    расписанию/фотодатчику, контроль параметров, передача данных
                    по LoRaWAN.
                  </p>
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="scene-container">
      <div data-scene class="sticky-container sticky-container--mob">
        <div class="scene-container__el sticky-container__el">
          <div class="scene-content--blocks scene-content container">
            <div class="col-start-7 col-span-4">
              <div class="scene-content__el">
                <a href="/">
                  <div class="gap-[6px] flex items-center mb-3 xl:mb-4">
                    <div
                      class="w-10 h-8 xl:h-10 rounded-lg flex items-center justify-center border border-gray20 text-13reg sm:text-14reg"
                    >
                      <span>04</span>
                    </div>
                    <div
                      class="w-10 h-8 xl:h-10 rounded-lg flex items-center justify-center border border-gray20"
                    >
                      <svg
                        class="h-auto w-[0.875rem] sm:w-[1.0625rem]"
                        viewBox="0 0 20 17"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <path
                          d="M5.76797 1.6001H13.3847C13.9075 1.6001 14.374 1.61722 14.7923 1.67708C17.0202 1.94216 17.6234 3.05379 17.6234 6.09796V11.5022C17.6234 14.5464 17.0202 15.658 14.7923 15.9231C14.374 15.983 13.9156 16.0001 13.3847 16.0001H5.76797C5.24517 16.0001 4.77868 15.983 4.36044 15.9231C2.13252 15.658 1.5293 14.5464 1.5293 11.5022V6.09796C1.5293 3.05379 2.13252 1.94216 4.36044 1.67708C4.77868 1.61722 5.24517 1.6001 5.76797 1.6001Z"
                          stroke="#DFDFEC"
                          stroke-width="1.27059"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                        <path
                          d="M4.91797 10.9177H4.93566H14.2356"
                          stroke="#DFDFEC"
                          stroke-width="1.27059"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                        <path
                          d="M11.6943 7.52954H11.6992L14.2355 7.52954"
                          stroke="#DFDFEC"
                          stroke-width="1.27059"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                        <path
                          d="M4.91797 7.52954H4.91958H5.76503"
                          stroke="#DFDFEC"
                          stroke-width="1.27059"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                        <path
                          d="M8.30566 7.52954H8.30727H9.15272"
                          stroke="#DFDFEC"
                          stroke-width="1.27059"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                        <path
                          d="M18.4707 16L18.4707 1.6"
                          stroke="#DFDFEC"
                          stroke-width="1.27059"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                      </svg>
                    </div>
                  </div>
                  <h2 class="">ЖК мониторы РЕКЛАМА</h2>
                  <p>
                    Реклама на опорах освещения! ЖК-панели, ПО, размещение
                    рекламы. Привлеките внимание аудитории, увеличьте продажи.
                  </p>
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="scene-container">
      <div data-scene class="sticky-container sticky-container--mob">
        <div class="scene-container__el sticky-container__el">
          <div class="scene-content--blocks scene-content container">
            <div class="col-start-3 col-span-4">
              <div class="scene-content__el">
                <a href="/">
                  <div class="gap-[6px] flex items-center mb-3 xl:mb-4">
                    <div
                      class="w-10 h-8 xl:h-10 rounded-lg flex items-center justify-center border border-gray20 text-13reg sm:text-14reg"
                    >
                      <span>05</span>
                    </div>
                    <div
                      class="w-10 h-8 xl:h-10 rounded-lg flex items-center justify-center border border-gray20"
                    >
                    <svg width="17" height="13" viewBox="0 0 17 13" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path fill-rule="evenodd" clip-rule="evenodd" d="M1.4 4.62857C1.4 3.04233 1.59037 2.31688 1.9143 1.94667C2.20835 1.61062 2.77179 1.4 4.1375 1.4H8.2625C9.62821 1.4 10.1917 1.61062 10.4857 1.94667C10.8096 2.31688 11 3.04233 11 4.62857V7.77143C11 9.35767 10.8096 10.0831 10.4857 10.4533C10.1917 10.7894 9.62821 11 8.2625 11H4.1375C2.77179 11 2.20835 10.7894 1.9143 10.4533C1.59037 10.0831 1.4 9.35767 1.4 7.77143V4.62857ZM4.1375 0C2.75321 0 1.5979 0.182238 0.860696 1.02476C0.153379 1.83312 0 3.07196 0 4.62857V7.77143C0 9.32804 0.153379 10.5669 0.860696 11.3752C1.5979 12.2178 2.75321 12.4 4.1375 12.4H8.2625C9.64679 12.4 10.8021 12.2178 11.5393 11.3752C12.08 10.7573 12.297 9.88779 12.3692 8.81707L15.3873 10.3261C15.6043 10.4346 15.862 10.423 16.0684 10.2955C16.2748 10.1679 16.4004 9.94263 16.4004 9.70002V2.70002C16.4004 2.45742 16.2748 2.23211 16.0684 2.10457C15.862 1.97702 15.6043 1.96543 15.3873 2.07393L12.3692 3.58298C12.297 2.51224 12.08 1.64272 11.5393 1.02476C10.8021 0.182238 9.64679 0 8.2625 0H4.1375ZM12.4004 7.2674V5.13265L15.0004 3.83265V8.5674L12.4004 7.2674Z" fill="#ADADAD"/>
                      </svg>
                      
                    </div>
                  </div>
                  <h2 class="">ВН</h2>
                  <p>
                    Видеонаблюдение для "Безопасного города"! Камеры, ПО,
                    мониторинг трафика, АХП, повысьте безопасность,
                    оптимизируйте работу. Надежное решение, простота установки.
                  </p>
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="scene-container">
      <div data-scene class="sticky-container sticky-container--mob">
        <div class="scene-container__el sticky-container__el">
          <div class="scene-content--blocks scene-content container">
            <div class="col-start-7 col-span-4">
              <div class="scene-content__el">
                <a href="/">
                  <div class="gap-[6px] flex items-center mb-3 xl:mb-4">
                    <div
                      class="w-10 h-8 xl:h-10 rounded-lg flex items-center justify-center border border-gray20 text-13reg sm:text-14reg"
                    >
                      <span>06</span>
                    </div>
                    <div
                      class="w-10 h-8 xl:h-10 rounded-lg flex items-center justify-center border border-gray20"
                    >
                      <svg width="39" height="39" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M21.5591 18.0529C21.5591 18.7203 21.5653 19.3877 21.5591 20.0551C21.554 20.1583 21.5726 20.2612 21.6136 20.3567C21.6546 20.4522 21.7169 20.5378 21.7961 20.6075C22.3344 21.1107 22.8624 21.6244 23.3946 22.1341C23.661 22.3896 23.8684 22.6962 24.0032 23.034C24.6316 24.5948 25.2683 26.1529 25.8974 27.713C26.133 28.2982 25.9595 28.7121 25.411 28.9111C24.7962 29.1338 24.2689 28.9335 24.0503 28.362C23.6138 27.2223 23.148 26.0905 22.7866 24.9285C22.4901 23.976 21.9423 23.239 21.1814 22.5926C20.4669 21.9843 19.8097 21.3137 19.1225 20.6752C18.8493 20.4197 18.7619 20.103 18.7612 19.7556C18.7612 18.7378 18.7589 17.7203 18.7544 16.703C18.7544 16.169 18.7052 16.1421 18.2352 16.4009C17.9388 16.5638 17.6423 16.7293 17.3472 16.8863C17.2461 16.9368 17.1605 17.0119 17.0989 17.1041C17.0373 17.1963 17.0019 17.3024 16.9961 17.4118C16.9121 18.2171 16.8178 19.0212 16.7229 19.8252C16.7096 19.9777 16.681 20.1286 16.6375 20.2758C16.5111 20.6574 16.091 20.9163 15.7167 20.8604C15.5102 20.8353 15.3215 20.7356 15.1886 20.5815C15.0558 20.4274 14.9889 20.2305 15.0015 20.0308C15.0541 19.3227 15.1525 18.6178 15.2365 17.9117C15.2829 17.5176 15.3389 17.1307 15.3922 16.7405C15.4128 16.5776 15.4725 16.4216 15.5667 16.2848C15.6608 16.148 15.7868 16.0341 15.9346 15.9522C16.8581 15.3919 17.7837 14.8355 18.6929 14.2522C19.1601 13.9534 19.6041 13.908 20.0953 14.1813C20.3607 14.329 20.6166 14.492 20.8617 14.6693C21.3453 15.0195 21.568 15.4806 21.5646 16.0567C21.555 16.7181 21.5584 17.3855 21.5591 18.0529Z" fill="#ADADAD"/>
                      <path d="M14.9893 29C14.1828 28.9946 13.7385 28.2344 14.1652 27.5722C14.7518 26.6584 15.3596 25.7526 15.9571 24.8434C16.724 23.6747 17.491 22.5059 18.2579 21.3371C18.5438 20.9043 18.6208 20.8996 19.0123 21.2579C19.2631 21.4874 19.4999 21.7276 19.7668 21.9423C20.0689 22.1818 20.0557 22.4086 19.8518 22.7018C18.8987 24.0779 17.9543 25.4634 17.0071 26.8456C16.6177 27.4132 16.2321 27.9862 15.834 28.5478C15.6221 28.8537 15.3266 29.002 14.9893 29Z" fill="#ADADAD"/>
                      <path d="M20.4953 12.9998C19.7141 13.0128 19.0006 12.294 19 11.4938C18.9994 10.6937 19.6826 10.0113 20.5033 10.0002C21.2802 9.98784 21.9715 10.6709 21.9992 11.4723C22.0269 12.2736 21.3215 12.9856 20.4953 12.9998Z" fill="#ADADAD"/>
                      <path d="M22.0048 18.0496C22.0048 17.796 21.994 17.5425 22.0048 17.2882C22.0231 16.9791 22.1405 16.9152 22.344 17.1131C23.1376 17.8813 23.9327 18.648 24.706 19.4413C25.0675 19.8113 25.0865 20.3396 24.8131 20.7058C24.5398 21.072 24.0778 21.1055 23.6885 20.7545C23.1973 20.3107 22.73 19.8341 22.2531 19.3705C22.1723 19.2907 22.108 19.1921 22.0649 19.0814C22.0218 18.9708 22.0008 18.8509 22.0035 18.7302C22.0021 18.5048 22.0048 18.2772 22.0048 18.0496Z" fill="#ADADAD"/>
                      <path d="M34.999 9.999L34.9535 9.9535M34.9535 5.0465L34.999 5.001L34.9535 5.0465ZM30.001 9.999L30.0465 9.9535L30.001 9.999ZM32.5 4.028V4V4.028ZM32.5 11V10.972V11ZM29.028 7.5H29H29.028ZM36 7.5H35.972H36ZM30.0465 5.0465L30.001 5.001L30.0465 5.0465Z" stroke="#E2E2E2" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                      </svg>
                      
                    </div>
                  </div>
                  <h2 class="">Общественное вещание и оповещение</h2>
                  <p>
                    Оборудование, ПО, трансляции, оповещение ГОиЧС.
                    Информирование населения, повышение безопасности.
                  </p>
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="scene-container">
      <div data-scene class="sticky-container sticky-container--mob">
        <div class="scene-container__el sticky-container__el">
          <div class="scene-content--blocks scene-content container">
            <div class="col-start-7 col-span-4">
              <div class="scene-content__el">
                <a href="/">
                  <div class="gap-[6px] flex items-center mb-3 xl:mb-4">
                    <div
                      class="w-10 h-8 xl:h-10 rounded-lg flex items-center justify-center border border-gray20 text-13reg sm:text-14reg"
                    >
                      <span>07</span>
                    </div>
                    <div
                      class="w-10 h-8 xl:h-10 rounded-lg flex items-center justify-center border border-gray20"
                    >
                    <svg width="18" height="14" viewBox="0 0 18 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M10.7778 13.4444H5.44444C1.88889 13.4444 1 12.5556 1 9V5.44444C1 1.88889 1.88889 1 5.44444 1H10.7778C14.3333 1 15.2222 1.88889 15.2222 5.44444V9C15.2222 12.5556 14.3333 13.4444 10.7778 13.4444Z" stroke="#ADADAD" stroke-linecap="round" stroke-linejoin="round"/>
                      <path d="M8.26438 4.55566L7.31327 6.209C7.09993 6.57344 7.27771 6.87566 7.69549 6.87566H8.82438C9.25104 6.87566 9.41993 7.17789 9.2066 7.54233L8.26438 9.19566" stroke="#ADADAD" stroke-linecap="round" stroke-linejoin="round"/>
                      <path d="M17 8.11103V6.33325" stroke="#ADADAD" stroke-linecap="round" stroke-linejoin="round"/>
                      </svg>
                      
                    </div>
                  </div>
                  <h2 class="">Умный свет с БУС</h2>
                  <p>
                    Управление по расписанию/датчику, контроль, передача данных.
                    LoRaWAN, надежность, экономия.
                  </p>
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="scene-container">
      <div data-scene class="sticky-container sticky-container--mob">
        <div class="scene-container__el sticky-container__el">
          <div class="scene-content--blocks scene-content container">
            <div class="col-start-3 col-span-4">
              <div class="scene-content__el">
                <a href="/">
                  <div class="gap-[6px] flex items-center mb-3 xl:mb-4">
                    <div
                      class="w-10 h-8 xl:h-10 rounded-lg flex items-center justify-center border border-gray20 text-13reg sm:text-14reg"
                    >
                      <span>08</span>
                    </div>
                    <div
                      class="w-10 h-8 xl:h-10 rounded-lg flex items-center justify-center border border-gray20"
                    >
                    <svg width="19" height="15" viewBox="0 0 19 15" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M1 5.84277V9.15884C1 10.8169 1.82902 11.6459 3.48705 11.6459H4.67254C4.97928 11.6459 5.28602 11.7371 5.5513 11.8946L7.97203 13.4117C10.0612 14.7215 11.7772 13.7682 11.7772 11.306V3.69562C11.7772 1.22515 10.0612 0.28007 7.97203 1.58992L5.5513 3.10702C5.28602 3.26453 4.97928 3.35572 4.67254 3.35572H3.48705C1.82902 3.35572 1 4.18474 1 5.84277Z" stroke="#ADADAD"/>
                      <path d="M14.2646 4.18472C15.7403 6.14949 15.7403 8.85209 14.2646 10.8169" stroke="#ADADAD" stroke-linecap="round" stroke-linejoin="round"/>
                      <path d="M15.7812 2.11218C18.1771 5.3039 18.1771 9.69768 15.7812 12.8894" stroke="#ADADAD" stroke-linecap="round" stroke-linejoin="round"/>
                      </svg>
                      
                    </div>
                  </div>
                  <h2 class="">ЗСЭ</h2>
                  <p>
                    Зарядка электромобилей на опорах освещения! Мониторинг,
                    управление сетью, зарядные станции. Экологичный транспорт,
                    удобство для пользователей.
                  </p>
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="scene-container">
      <div data-scene class="sticky-container sticky-container--mob">
        <div class="scene-container__el sticky-container__el">
          <div class="scene-content--blocks scene-content container">
            <div class="col-start-3 col-span-4">
              <div class="scene-content__el">
                <a href="/">
                  <div class="gap-[6px] flex items-center mb-3 xl:mb-4">
                    <div
                      class="w-10 h-8 xl:h-10 rounded-lg flex items-center justify-center border border-gray20 text-13reg sm:text-14reg"
                    >
                      <span>09</span>
                    </div>
                    <div
                      class="w-10 h-8 xl:h-10 rounded-lg flex items-center justify-center border border-gray20"
                    >
                    <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M10.9104 4.05809C11.6586 4.20378 12.3462 4.56898 12.8852 5.10696C13.4242 5.64494 13.7901 6.33121 13.9361 7.07795M10.9104 1C12.4648 1.17235 13.9143 1.8671 15.0209 2.97018C16.1275 4.07326 16.8254 5.5191 17 7.0703M16.234 13.1712V15.4648C16.2349 15.6777 16.1912 15.8884 16.1057 16.0835C16.0203 16.2786 15.8949 16.4537 15.7377 16.5977C15.5805 16.7416 15.3949 16.8512 15.1928 16.9194C14.9908 16.9876 14.7766 17.013 14.5642 16.9938C12.2071 16.7382 9.94297 15.9343 7.95371 14.6467C6.10295 13.4729 4.53384 11.9068 3.35779 10.0596C2.06326 8.0651 1.25765 5.79431 1.00622 3.43118C0.987076 3.21976 1.01225 3.00669 1.08014 2.80551C1.14802 2.60434 1.25713 2.41948 1.40052 2.2627C1.54391 2.10592 1.71843 1.98066 1.91298 1.89489C2.10753 1.80912 2.31785 1.76472 2.53053 1.76452H4.82849C5.20022 1.76087 5.56061 1.89226 5.84247 2.13419C6.12433 2.37613 6.30843 2.71211 6.36046 3.0795C6.45745 3.81349 6.63732 4.53418 6.89665 5.22781C6.99971 5.50145 7.02201 5.79884 6.96092 6.08474C6.89983 6.37065 6.7579 6.63308 6.55195 6.84095L5.57915 7.81189C6.66958 9.7259 8.25739 11.3107 10.1751 12.399L11.1479 11.4281C11.3561 11.2225 11.6191 11.0809 11.9055 11.0199C12.192 10.9589 12.4899 10.9812 12.7641 11.084C13.4591 11.3429 14.1811 11.5224 14.9165 11.6192C15.2886 11.6716 15.6284 11.8587 15.8713 12.1448C16.1143 12.431 16.2433 12.7962 16.234 13.1712Z" stroke="#ADADAD" stroke-linecap="round" stroke-linejoin="round"/>
                      </svg>
                      
                    </div>
                  </div>
                  <h2 class="">Кнопка 112</h2>
                  <p>
                    Быстрый вызов помощи! Вызывная панель, ПО, связь с
                    экстренными службами. Повысьте безопасность, обеспечьте
                    оперативную помощь.
                  </p>
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="h-10 xl:h-screen final-trigger"></div>
  </div>
</div>
<!-- <section class="sticky-container sticky-container--mob " id="singleOporaContainer">
  <div class="sticky-container__el h-screen">
    <div class="swiper" id="singleOporaSlider">
      <div class="relative single-el__list swiper-wrapper">
        <div class="single-el__item swiper-slide">
          <div class="h-full flex items-center justify-center">
            <div class="w-full container xl:grid grid-cols-12 gap-5 items-center h-full xl:h-fit">
              <div class="col-start-3 col-span-5">
                <div
                  class="text-14reg sm:text-14med flex items-center gap-2 mb-10 xl:mb-[3.75rem]"
                >
                  <div class="h-[1px] w-[1.375rem] bg-white"></div>
                  <div>About</div>
                </div>
                <div>
                  <h2 class="text-24med sm:text-48med mb-3 xl:mb-6">
                    Algo is a data-visualization
                  </h2>
                  <p
                    class="text-14reg sm:text-17reg text-[#c4c4c4] mb-6 xl:mb-9 max-w-[23.75rem]"
                  >
                    Algo is a data-visualization studio specializing in
                    <span class="text-gradient text-gradient-animation"
                      >video automation</span
                    >. We build dashboards that turn data into videos, at scale. Algo is
                    a data-visualization studio specializing in video automation. We
                    build dashboards that turn data into videos, at scale.
                  </p>
                  <a
                    href="/"
                    class="text-17reg text-gray10 flex flex-col gap-[2px] w-fit"
                  >
                    <span>Contnue</span>
                    <span class="gradient-line"></span>
                  </a>
                </div>
              </div>
              <img class="col-start-8 col-span-3 h-1/2 mx-auto xl:h-auto" src="/img/main/main-slider1.webp" alt="" />
            </div>
          </div>
        </div>
        <div class="single-el__item swiper-slide">
          <div class="h-full flex items-center justify-center">
            <div class="w-full container xl:grid grid-cols-12 gap-5 items-center h-full xl:h-fit">
              <div class="col-start-3 col-span-5">
                <div
                  class="text-14reg sm:text-14med flex items-center gap-2 mb-10 xl:mb-[3.75rem]"
                >
                  <div class="h-[1px] w-[1.375rem] bg-white"></div>
                  <div>About</div>
                </div>
                <div>
                  <h2 class="text-24med sm:text-48med mb-3 xl:mb-6">
                    Algo is a data-visualization
                  </h2>
                  <p
                    class="text-14reg sm:text-17reg text-[#c4c4c4] mb-6 xl:mb-9 max-w-[23.75rem]"
                  >
                    Algo is a data-visualization studio specializing in
                    <span class="text-gradient text-gradient-animation"
                      >video automation</span
                    >. We build dashboards that turn data into videos, at scale. Algo is
                    a data-visualization studio specializing in video automation. We
                    build dashboards that turn data into videos, at scale.
                  </p>
                  <a
                    href="/"
                    class="text-17reg text-gray10 flex flex-col gap-[2px] w-fit"
                  >
                    <span>Contnue</span>
                    <span class="gradient-line"></span>
                  </a>
                </div>
              </div>
              <img class="col-start-8 col-span-3 h-1/2 mx-auto xl:h-auto" src="/img/main/main-slider2.webp" alt="" />
            </div>
          </div>
        </div>
        <div class="single-el__item swiper-slide">
          <div class="h-full flex items-center justify-center">
            <div class="w-full container xl:grid grid-cols-12 gap-5 items-center h-full xl:h-fit">
              <div class="col-start-3 col-span-5">
                <div
                  class="text-14reg sm:text-14med flex items-center gap-2 mb-10 xl:mb-[3.75rem]"
                >
                  <div class="h-[1px] w-[1.375rem] bg-white"></div>
                  <div>About</div>
                </div>
                <div>
                  <h2 class="text-24med sm:text-48med mb-3 xl:mb-6">
                    Algo is a data-visualization
                  </h2>
                  <p
                    class="text-14reg sm:text-17reg text-[#c4c4c4] mb-6 xl:mb-9 max-w-[23.75rem]"
                  >
                    Algo is a data-visualization studio specializing in
                    <span class="text-gradient text-gradient-animation"
                      >video automation</span
                    >. We build dashboards that turn data into videos, at scale. Algo is
                    a data-visualization studio specializing in video automation. We
                    build dashboards that turn data into videos, at scale.
                  </p>
                  <a
                    href="/"
                    class="text-17reg text-gray10 flex flex-col gap-[2px] w-fit"
                  >
                    <span>Contnue</span>
                    <span class="gradient-line"></span>
                  </a>
                </div>
              </div>
              <img class="col-start-8 col-span-3 h-1/2 mx-auto xl:h-auto" src="/img/main/main-slider1.webp" alt="" />
            </div>
          </div>
        </div>
        <div class="single-el__item swiper-slide">
          <div class="h-full flex items-center justify-center">
            <div class="w-full container xl:grid grid-cols-12 gap-5 items-center h-full xl:h-fit">
              <div class="col-start-3 col-span-5">
                <div
                  class="text-14reg sm:text-14med flex items-center gap-2 mb-10 xl:mb-[3.75rem]"
                >
                  <div class="h-[1px] w-[1.375rem] bg-white"></div>
                  <div>About</div>
                </div>
                <div>
                  <h2 class="text-24med sm:text-48med mb-3 xl:mb-6">
                    Algo is a data-visualization
                  </h2>
                  <p
                    class="text-14reg sm:text-17reg text-[#c4c4c4] mb-6 xl:mb-9 max-w-[23.75rem]"
                  >
                    Algo is a data-visualization studio specializing in
                    <span class="text-gradient text-gradient-animation"
                      >video automation</span
                    >. We build dashboards that turn data into videos, at scale. Algo is
                    a data-visualization studio specializing in video automation. We
                    build dashboards that turn data into videos, at scale.
                  </p>
                  <a
                    href="/"
                    class="text-17reg text-gray10 flex flex-col gap-[2px] w-fit"
                  >
                    <span>Contnue</span>
                    <span class="gradient-line"></span>
                  </a>
                </div>
              </div>
              <img class="col-start-8 col-span-3 h-1/2 mx-auto xl:h-auto" src="/img/main/main-slider2.webp" alt="" />
            </div>
          </div>
        </div>
        
      </div>
    </div>
  </div>
 
</section> -->
<section class="sticky-container sticky-container--mob " id="singleOporaContainer">
  <div class="sticky-container__el h-screen">
    <div class="" id="singleOporaBlock">
      <div class="relative single-el__list m-auto w-full overflow-hidden max-w-full">
        <div class="single-el__item h-full">
          <div class="h-full flex items-center justify-center">
            <div class="w-full container flex flex-col xl:grid grid-cols-12 xl:gap-5 items-center h-full xl:h-full">
              <div class="col-start-3 col-span-5 max-h-full min-h-0  max-w-full min-w-0">
                <div
                  class="text-14reg sm:text-14med flex items-center gap-2 mb-10 xl:mb-[3.75rem]"
                >
                  <div class="h-[1px] w-[1.375rem] bg-white"></div>
                  <div>About</div>
                </div>
                <div>
                  <div class="swiper" id="singleOporaTextSlider">
                    <div class="swiper-wrapper">
                      <div class="swiper-slide">
                        <h2 class="text-24med sm:text-48med mb-3 xl:mb-6">
                          Algo is a data-visualization
                        </h2>
                        <p
                          class="text-14reg sm:text-17reg text-[#c4c4c4] mb-6 xl:mb-9 max-w-[23.75rem]"
                        >
                          Algo is a data-visualization studio specializing in
                          <span class="text-gradient text-gradient-animation"
                            >video automation</span
                          >. We build dashboards that turn data into videos, at scale. Algo is
                          a data-visualization studio specializing in video automation. We
                          build dashboards that turn data into videos, at scale.
                        </p>
                      </div>
                      <div class="swiper-slide">
                        <h2 class="text-24med sm:text-48med mb-3 xl:mb-6">
                          Algo is a data-visualization
                        </h2>
                        <p
                          class="text-14reg sm:text-17reg text-[#c4c4c4] mb-6 xl:mb-9 max-w-[23.75rem]"
                        >
                          Algo is a data-visualization studio specializing in
                          <span class="text-gradient text-gradient-animation"
                            >video automation</span
                          >. We build dashboards that turn data into videos, at scale. Algo is
                          a data-visualization studio specializing in video automation. We
                        </p>
                      </div>
                      <div class="swiper-slide">
                        <h2 class="text-24med sm:text-48med mb-3 xl:mb-6">
                          Algo is a data-visualization
                        </h2>
                        <p
                          class="text-14reg sm:text-17reg text-[#c4c4c4] mb-6 xl:mb-9 max-w-[23.75rem]"
                        >
                          Algo is a data-visualization studio specializing in
                          <span class="text-gradient text-gradient-animation"
                            >video automation</span
                          >. We build dashboards that turn data into videos, at scale. Algo is
                        </p>
                      </div>
                      <div class="swiper-slide">
                        <h2 class="text-24med sm:text-48med mb-3 xl:mb-6">
                          Algo is a data-visualization
                        </h2>
                        <p
                          class="text-14reg sm:text-17reg text-[#c4c4c4] mb-6 xl:mb-9 max-w-[23.75rem]"
                        >
                          Algo is a data-visualization studio specializing in
                          <span class="text-gradient text-gradient-animation"
                            >video automation</span
                          >. We build dashboards that turn data into videos, at scale. Algo is
                          a data-visualization studio specializing in video automation. We
                          build dashboards that turn data into videos, at scale.
                        </p>
                      </div>
                    </div>
                  </div>
                  <a
                    href="/"
                    class="text-17reg text-gray10 flex flex-col gap-[2px] w-fit"
                  >
                    <span>Contnue</span>
                    <span class="gradient-line"></span>
                  </a>
                </div>
              </div>
              <div class="col-start-8 col-span-3 h-1/2 mx-auto xl:h-auto block max-h-full min-h-0  max-w-full min-w-0">
                <div class="swiper" id="singleOporaImgSlider">
                  <div class="swiper-wrapper ">
                    <div class="swiper-slide">
                      <img  src="/img/main/main-slider1.webp" alt="" />
                    </div>
                    <div class="swiper-slide">
                      <img  src="/img/main/main-slider2.webp" alt="" />
                    </div>
                    <div class="swiper-slide">
                      <img  src="/img/main/main-slider1.webp" alt="" />
                    </div>
                    <div class="swiper-slide">
                      <img  src="/img/main/main-slider2.webp" alt="" />
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        
      </div>
    </div>
  </div>
 
</section>
<section class="current-work sticky-container overflow-hidden">
  <div class="sticky-container__el">
    <div class="h-screen flex relative container " id="CatalogOporaAnimation">
      <div class="m-auto text-center relative z-20">
        <h2 class="text-24med sm:text-40med mb-2 sm:mb-4">
          Algo is a data-visualization
        </h2>
        <p class="text-14reg sm:text-17med text-[#b9b9b9] max-w-[23.75rem] mx-auto">
          Создайте свою  
          <span class="text-gradient text-gradient-animation"
            >video automation.</span
          >
        </p>
      </div>
      <div class=" absolute inset-0 catalog-opora-animation z-10 pointer-events-none">
          <div class="catalog-item absolute">
            <div class="catalog-item__img">
              <img src="img/cat.webp" alt="" />
              <span class="catalog-item__btn"> </span>
            </div>
          </div>
          <div class="catalog-item absolute  catalog-item--white">
            <div class="catalog-item__img">
              <img src="img/cat.webp" alt="" />
              <span class="catalog-item__btn"> </span>
            </div>
          </div>
          <div class="catalog-item absolute">
            <div class="catalog-item__img">
              <img src="img/cat.webp" alt="" />
              <span class="catalog-item__btn"> </span>
            </div>
          </div>
          <div class="catalog-item absolute catalog-item--white">
            <div class="catalog-item__img">
              <img src="img/cat.webp" alt="" />
              <span class="catalog-item__btn"> </span>
            </div>
          </div>
          <div class="catalog-item absolute">
            <div class="catalog-item__img">
              <img src="img/cat.webp" alt="" />
              <span class="catalog-item__btn"> </span>
            </div>
          </div>
          <div class="catalog-item absolute">
            <div class="catalog-item__img">
              <img src="img/cat.webp" alt="" />
              <span class="catalog-item__btn"> </span>
            </div>
          </div>
          <div id="CatalogOporaAnimationTargetMain" class="absolute">
            <div class="catalog-item  catalog-item--white xl:invisible" >
              <div class="catalog-item__img">
                <img src="img/cat.webp" alt="" />
                <span class="catalog-item__btn"> </span>
              </div>
            </div>
          </div>
      </div>
    </div>
  </div>
  <div class="hidden xl:block h-[150vh]" id="CatalogOporaAnimationTrigger">
  </div>
  <div class="xl:h-screen flex">
    <div class="bg-black100 relative z-30 mx-auto xl:my-auto  w-full sm:w-fit rounded-3xl">
      <div
        class=" w-full sm:w-fit default-background px-5 py-6 sm:px-10 sm:pb-10 sm:pt-8 "
      >
        <div class="text-center">
          <h2 class="text-17med sm:text-27med mb-2 sm:mb-1">
            Наши модули 
          </h2>
          <p
            class="text-14reg sm:text-17med text-gradient text-gradient-animation mx-auto"
          >
          Создайте свою функциональную опору 
          </p>
        </div>
        
        <a
          href="/"
          class="button button--primary w-fit mx-auto mt-6 mb-8 md:mt-8 md:mb-10"
        >
          <span>В каталог</span>
        </a>
        <div
          class="gap-6 grid grid-cols-[280px] justify-center sm:grid-cols-2 lg:grid-cols-4 lg:gap-10"
        >
         
           <a href="/" class="catalog-item catalog-item--white" id="CatalogOporaAnimationTarget">
             <div class="catalog-item__img-container">
               <div class="catalog-item__img">
                 <img src="img/cat.webp" alt="" />
                 <span class="catalog-item__btn"> </span>
               </div>
             </div>
             <div class="catalog-item__text">
               <p>ZIG12-02</p>
               <p>Модификация уличной опоры</p>
             </div>
           </a>
         
          <a href="/" class="catalog-item catalog-item--white">
            <div class="catalog-item__img">
              <img src="img/cat.webp" alt="" />
              <span class="catalog-item__btn"> </span>
            </div>
            <div class="catalog-item__text">
              <p>ZIG12-02</p>
              <p>Модификация уличной опоры</p>
            </div>
          </a>
          <a href="/" class="catalog-item catalog-item--white">
            <div class="catalog-item__img">
              <img src="img/cat.webp" alt="" />
              <span class="catalog-item__btn"> </span>
            </div>
            <div class="catalog-item__text">
              <p>ZIG12-02</p>
              <p>Модификация уличной опоры</p>
            </div>
          </a>
          <a href="/" class="catalog-item catalog-item--white">
            <div class="catalog-item__img">
              <img src="img/cat.webp" alt="" />
              <span class="catalog-item__btn"> </span>
            </div>
            <div class="catalog-item__text">
              <p>ZIG12-02</p>
              <p>Модификация уличной опоры</p>
            </div>
          </a>
        </div>
      </div>
     </div>
  </div>
 </section>
<section
  class="lg:h-[200vh] animation-block--v1 pb-20 lg:pb-0 pt-28 lg:pt-0 lg:mt-[3.125rem] container"
>
  <div
    class="flex flex-col gap-y-10 justify-between h-full lg:h-fit lg:grid grid-cols-12 gap-5 animation-block--v1__block"
  >
    <div class="col-start-3 col-span-4 h-fit animation-block--v1__text">
      <h2 class="text-24med sm:text-48med mb-3 sm:mb-6 text-from-bot">
        Цифровая <br />
        городская среда
      </h2>
      <p class="text-14reg text-[#c4c4c4] sm:text-17reg mb-4 sm:mb-10 text-from-bot">
        Автоматизированная система управления RADUGA «Цифровая городская среда»
        предназначена для создания комфортных и безопасных условий проживания и
        повышения эффективности внутригородских систем жизнеобеспечения.
      </p>
      <a href="/" class="text-17reg text-gray10 flex flex-col gap-[2px] w-fit text-from-bot">
        <span>Подробнее</span>
        <span class="gradient-line"></span>
      </a>
    </div>
    <div class="animation-block--v1__img col-start-8 col-span-3">
      <img class="show" src="/img/main/img1.webp" alt="" /> 
      <img  src="https://smart-opora.com/bitrix/templates/smartopora/img/photo_2024-06-19_07-27-36.webp" alt="" />
      <img  src="https://smart-opora.com/bitrix/templates/smartopora/img/photo_2024-06-19_07-27-39.webp" alt="" />
      <img  src="https://smart-opora.com/bitrix/templates/smartopora/img/photo_2024-06-19_07-27-42.webp" alt="" /> 
    </div>
  </div>
</section>
<section
  class="form-section xl:pt-48 xl:pb-32 py-24 sm:py-32 lg:grid grid-cols-12 gap-5 flex items-center justify-center"
>
  <div
    class="form-container py-6 px-5 lg:py-[3.125rem] lg:px-[3.25rem] default-background col-span-8 col-start-3 w-full"
  >
    <div
      class="form-container__heading text-center w-fit mx-auto mb-8 sm:mb-10"
    >
      <h2 class="text-24med sm:text-32med mb-2 sm:mb-3">Оставить заявку</h2>
      <p
        class="text-14reg sm:text-14med text-gray20 max-w-[280px] lg:max-w-[321px]"
      >
        Заполните заявку и наш менеджер свяжется с вами в ближайшее время
      </p>
    </div>
    <form action="" class="">
      <div class="gap-3 lg:grid flex flex-col grid-cols-4 mb-6 sm:mb-8">
        <input type="text" class="input w-full" placeholder="Имя" />
        <input type="text" class="input w-full" placeholder="Телефон" />
        <input type="text" class="input w-full" placeholder="Почта" />
        <input type="text" class="input w-full" placeholder="Комментарий" />
      </div>
      <div
        class="flex flex-col gap-7 p-[0.625rem] lg:p-0 lg:flex-row items-center justify-center"
      >
        <label for="" class="flex gap-2 flex-1 lg:max-w-[358px] my-[3px]">
          <input type="checkbox" class="checkbox" />
          <span class="block flex-1 text-13med text-[#d4d4d4]"
            >Я согласен(а) на обработку персональных данных и с политикой
            обработки персональных данных</span
          >
        </label>
        <button
          type="button"
          class="button button--primary w-full lg:w-fit lg:h-full"
        >
          Оставить заявку
        </button>
      </div>
    </form>
  </div>
</section>
<script>
  const canvas = document.getElementById("video-canvas");
  const context = canvas.getContext("2d");
  const laoderLoad = document.getElementById("laoder");
  const htmlLoad = document.querySelector("html");
  const headerLoad = document.querySelector(".navigation");
  const canvasLoad = document.getElementById("video-canvas");
  const showFromBot = document.querySelectorAll(".showing-from-bot");
  let  citiesWidths,
      citiesProgressWrap,
      ctxCity,
      tlCity,
      currentCity,
      nextCity
  const getImages = (format) => {
    const currentFrame = (index) => {
      let curCount = 10000 + index;
      return `https://raw.githubusercontent.com/radugaLight/${
        matchMedia("(max-width: 1280px) and (orientation: portrait)").matches
          ? "smartopora-frameMob"
          : "smartopora-frame"
      }/main/${curCount}.${format}`;
    };

    for (let i = 0; i < sequenceState.frameCount; i++) {
      const img = new Image();
      img.src = currentFrame(i);
      img.addEventListener(
        "load",
        () => {
          persent += 100 / (sequenceState.frameCount - 1);

          document.getElementById("loaderProgress").innerText =
            Math.round(persent);
          document
            .getElementById("loaderProgressLine")
            .style.setProperty(
              "--translate-x",
              `-${-1 * Math.round(persent) + 100}%`
            );

            // img.removeEventListener('load')
        },
        { once: true }
      );
      sequenceState.images[i] = img;
    }

    if (sequenceState.images[0]) {
      if (sequenceState.images[0].complete) {
        onResize();
      } else {
        sequenceState.images[0].onload = () => onResize();
      }
    }
  };

  new Promise(() => {
    const image = new Image();
    image.onerror = () => {
      getImages("webp");
    };
    image.onload = () => {
      getImages("avif");
    };
    image.src =
      "data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=";
  }).catch(() => false);

  headerLoad.classList.add("-translate-y-full");
  headerLoad.style.transitionDuration = "1000ms";
  canvasLoad.style.transform = "translateY(100%)";
  showFromBot.forEach((element) => {
    element.style.setProperty("--tw-translate-y", "200%");
  });

  document.querySelector("html").classList.add("overflow-hidden");

  let persent = 0;

  const sequenceState = {
    frameCount: window.innerWidth < 1280 ? 1000 : 1150,
    images: [],
  };

  let frameBreakers =
    window.innerWidth < 1280
      ? [0, 149, 244, 399, 499, 649, 749, 899, 999]
      : [0, 149, 299, 449, 599, 749, 849, 1049, 1149];

  const cano = {
    frame: 0,
  };

  let prevFrame = -1;

  function render(force = false) {
    if (canvas && context && sequenceState.images[cano.frame] && (force ? true : cano.frame !== prevFrame)) {
      
    const isMobile = matchMedia(
      "(max-width: 1280px) and (orientation: portrait)"
    ).matches;


    const imgWidth = isMobile ? 1080 : 1920;
    const imgHeight = isMobile ? 1920 : 1080;
    const imgAspectRatio = imgWidth / imgHeight;
    const canvasAspectRatio = canvas.width / canvas.height;
    let x = 0;
    let y = 0;
    let width = canvas.width;
    let height = canvas.height;

      
    if (imgAspectRatio < canvasAspectRatio) {
      height = width / imgAspectRatio;
      y = (canvas.height - height) / 2;
    } else {
      width = height * imgAspectRatio;
      x = (canvas.width - width) / 2;
    }

      context.drawImage(sequenceState.images[cano.frame], x, y, width, height);

      if (sequenceState.images[cano.frame].complete) {
          prevFrame = cano.frame;
      }
    }
  }

  function setCanvasDimensions() {
    const dpr = Math.min(window.devicePixelRatio, 2);
    if (canvas) {
      canvas.width = window.innerWidth * dpr;
      canvas.height = window.innerHeight * dpr;
      render(true);
    }
  }

  function onResize() {
    setCanvasDimensions();
  }

  function onWindowResize () {
    window.location.reload()
  }

  const debouncedOnResize = debounce(onWindowResize, 100);

  if(window.innerWidth > 1279){
    window.addEventListener("resize", debouncedOnResize);
  }


  document.addEventListener(
    "DOMContentLoaded",
    function () {
      
      lockScroll.stop();

      const scenes = gsap.utils.toArray("[data-scene]");
      const scenesCount =  document.getElementById('mainPageStagePagCount')

      document.getElementById('mainPageStagePagCountLimit').innerHTML = scenes.length;

      scenes.forEach((el, i) => {
        let anim = gsap.fromTo(
          cano,
          {
            frame: frameBreakers[i],
          },
          {
            frame: frameBreakers[i + 1],
            snap: "frame",
            ease: 'none',
            scrollTrigger: {
              trigger: scenes[i],
              start: "top bottom+=100%",
              end: () => `top top`,
              scrub: true,
              onEnter: () => {
                scenesCount.innerHTML = i + 1;
              },
              onLeaveBack: () => {
                scenesCount.innerHTML = i === 0 ? 1 : i;
              },
              
            },
            onUpdate: () => {
              render();
            }
          }
        );
        cano.frame = 0;
        render();

        if (scenes.length - 1 === i) {
          anim.eventCallback("onComplete", () => {
            const sceneTarget = el.querySelector('.scene-content--blocks')

            const y = {
              scrollTrigger: {
                trigger: ".video-canvas__container .final-trigger",
                start: "top bottom",
                end: "bottom bottom",
                scrub: 0.5,
              }
            }
            const t = {
              opacity: 0,
              ...y
            }

            gsap.to(sceneTarget, t);
            gsap.to('#video-canvas', t);
            gsap.to('#mainPageStagePag', t)


            
          });
        }
      });

      scenes.forEach((scene, i) => {
        gsap.fromTo(
          scene.querySelectorAll(".scene-content__el"),
          {
            opacity: 0,
            top: 30,
          },
          {
            opacity: 1,
            top: 0,
            duration: 0.3,
            scrollTrigger: {
              trigger: scene,
              start: `top top`,
              toggleActions: "restart none none reverse",
            },
          }
        );
      });

      const firstBlock = document.getElementById("firstBlock");
      gsap.fromTo(
        firstBlock,
        {
          opacity: 1,
          y: 0,
        },
        {
          opacity: 0,
          y: "-100%",
          ease: "linear",
          duration: 0.3,
          scrollTrigger: {
            trigger: firstBlock,
            start: "top+=30% top",
            toggleActions: "restart none none reverse",
          },
          
        }
      );

      const animv1 = document.querySelector(".animation-block--v1");
      const animv1Block = document.querySelector(".animation-block--v1__block");
      const animv1Text = document.querySelector(".animation-block--v1__text");
      const animv1Img = document.querySelector(".animation-block--v1__img");
      const animv1ImgArr = document.querySelectorAll(".animation-block--v1__img > img");

      const animFrames = {
        img: 0
      }

      let prevImg = 0;

      function setImage() {
        animv1ImgArr[prevImg].classList.remove('show')
        animv1ImgArr[animFrames.img].classList.add('show')

        prevImg = animFrames.img
      }

      const botBlockAnim = {
        scrollTrigger: {
              trigger: animv1,
              start: "top center",
              end: `bottom center`,
              // invalidateOnRefresh: true,
              scrub: true,
            },
            ease: "none",
            delay: 0,
      }

      

      const singleOpora = document.getElementById('singleOporaContainer')
      const singleOporaBlock = document.getElementById('singleOporaBlock')
      const singleOporaText = document.getElementById('singleOporaTextSlider')
      const singleOporaImg = document.getElementById('singleOporaImgSlider')
      let singleOporaTextSliderVar, singleOporaImgSliderVar

      if (window.innerWidth > 1024) {
        gsap.fromTo(
          animv1Block,
          {
            y: 0,
          },
          {
            y: animv1.clientHeight - animv1Block.clientHeight,
           ...botBlockAnim
          }
        );
        gsap.fromTo(
          animv1Text,
          {
            y: 0,
          },
          {
            y: animv1Block.clientHeight - animv1Text.clientHeight,
            ...botBlockAnim
          }
        );
        const g = gsap.to(
          animFrames,
          {
            img: animv1ImgArr.length - 1,
            snap: "img",
            ...botBlockAnim
          }
        );

        g.eventCallback("onUpdate", () => {
          setImage()
        });

        
        

        gsap.fromTo(singleOporaBlock, {
          y: '-200%',

        }, {
          y: 0,
          ease: 'none',
          scrollTrigger: {
            trigger: singleOpora,
            start: "top 200%",
            end: `top top`,
            scrub: true,
          },
        })

        gsap.fromTo(singleOporaBlock, {
          scale: 0,
          opacity: 0,
        }, {
          scale: 1,
          opacity: 1,
          scrollTrigger: {
            trigger: singleOpora,
            start: "top 150%",
            end: `top bottom`,
            scrub: 0.5,
          },
        })

        singleOporaTextSliderVar = new Swiper(singleOporaText, {
          effect: "fade",
          autoHeight: true,
          allowTouchMove: false
        })

        singleOporaImgSliderVar  = new Swiper(singleOporaImg, {
          direction: 'vertical',
          effect: "coverflow",
          centeredSlides: true,
          coverflowEffect: {
           rotate: -5,
           stretch: 200,
           depth: 200,
           modifier: 1,
           slideShadows: false
          },
          reeMode:false,
          reeModeSticky:true,
          autoHeight: true,
          allowTouchMove: false
        })
      } else {
         singleOporaTextSliderVar = new Swiper(singleOporaText, {
          effect: "fade",
          autoHeight: true,
          allowTouchMove: false,
        })
        singleOporaImgSliderVar  = new Swiper(singleOporaImg, {
          effect: "fade",
          allowTouchMove: false
        })
      }

      

      
      singleOporaText.querySelectorAll('.swiper-slide').forEach((el, i) => {
        const trigger = document.createElement('div')
        trigger.classList.add('trigger')
        singleOpora.appendChild(trigger)
      })

      const singleOporaTriggers = gsap.utils.toArray('#singleOporaContainer .trigger')

      singleOporaTriggers.forEach((el, i) => {
        ScrollTrigger.create({
            trigger: el,
            start: 'top top',
            onEnter: () => {
              singleOporaTextSliderVar.slideTo(i)
              singleOporaImgSliderVar.slideTo(i)
            },
            onLeaveBack: () => {
              singleOporaTextSliderVar.slideTo(i)
              singleOporaImgSliderVar.slideTo(i)
            }
          })
      })




      const cities = document.querySelectorAll('.cities span'),
            citiesBg = document.querySelector('.cities .button'),
            containerCity = document.querySelector(".cities-container")
        
      
      
      window.addEventListener('resize', ()=>{
        ctxCity.revert(),
        ctxCity.kill(),
        ctxCity = gsap.context(()=>{
            setupCity(),
            buildTimeline(),
            tlCity.pause().seek(1.5).play()
        })
      });

      ctxCity = gsap.context(()=>{
        setupCity(),
        buildTimeline()
      })

      
      function setupCity() {
        citiesWidths = []
        cities.forEach((t,i)=>{
          citiesWidths.push(t.getBoundingClientRect().width),
          i > 0 && gsap.set(t, {
              opacity: 0,
              position: "absolute",
          })
        })
        citiesProgressWrap = gsap.utils.wrap(0, cities.length)
        citiesBg.style.width = citiesWidths[0] + "px"
        currentCity = 0
        nextCity = 1
      }

      function buildTimeline() {
        tlCity = gsap.timeline({
            repeat: -1
        });


        for (let t = 0; t < cities.length; t++) {
            const i = citiesWidths[currentCity] - citiesWidths[nextCity];
            tlCity.to(citiesBg, {
                width: "-=" + i,
                duration: .5,
                ease: "expo.inOut"
            }, (t + 1) * 1.5),
            containerCity && tlCity.set(containerCity, {
                x: 0
            }, 0),
            tlCity.to(cities[currentCity], {
                opacity: 0,
                duration: .5,
                ease: "expo.out"
            }, (t + 1) * 1.5).to(cities[nextCity], {
                opacity: 1,
                overwrite: "auto",
                duration: .5,
                ease: "expo.in"
            }, (t + 1) * 1.5),
            containerCity && tlCity.to(containerCity, {
                x: "+=" + i * .5,
                duration: .5,
                ease: "expo.inOut"
            }, (t + 1) * 1.5),
            currentCity++,
            currentCity = citiesProgressWrap(currentCity),
            nextCity++,
            nextCity = citiesProgressWrap(nextCity)
        }
        tlCity.pause().seek(1.5)
      }

      if(isDesktop){
    const catalogOporaAnimation = document.getElementById('CatalogOporaAnimation'),
          catalogOporaTrigger = document.getElementById('CatalogOporaAnimationTrigger'),
          catalogOporaTarget = document.getElementById('CatalogOporaAnimationTarget'),
          catalogOporaTargetImg = document.querySelector('#CatalogOporaAnimationTarget .catalog-item__img-container .catalog-item__img'),
          catalogOporaTargetImgContainer = document.querySelector('#CatalogOporaAnimationTarget .catalog-item__img-container'),
          catalogOporaTargetText = document.querySelector('#CatalogOporaAnimationTarget .catalog-item__text'),
          catalogOporaAnimationTargetMain = document.querySelector('#CatalogOporaAnimationTargetMain .catalog-item'),
          catalogOporaImages = gsap.utils.toArray('.catalog-opora-animation > .catalog-item > .catalog-item__img'),
          catalogOporaImagesBoost = [0.05, 0.07, 0.03, 0.03, 0.065,  0.06]

      catalogOporaTargetImgContainer.classList.add('disabled-default-animation')

          
      let scrollOffset = 0,
        mouseX = 0,
        mouseY = 0
      
      lockScroll.on('scroll', ({scroll}) => {
        scrollOffset = scroll.y
      })

      window.onmousemove = function(e) {
        mouseX = (e.clientX - (window.innerWidth / 2)),
        mouseY = (e.clientY - (window.innerHeight / 2))

        catalogOporaImages.forEach((el, i) => {
          gsap.to(el, {
            y: mouseY  * catalogOporaImagesBoost[i],
            x: mouseX * catalogOporaImagesBoost[i]
          })
        })

        if(catalogOporaTargetImgContainer.classList.contains('disabled-default-animation')) {
          gsap.to(catalogOporaTargetImg, {
            y: mouseY  * 0.03,
            x: mouseX * 0.03
          })
        }
      }


      const catalogTl = gsap.timeline()


      catalogTl.to(catalogOporaAnimation, {
        opacity: 0,
        scrollTrigger: {
          trigger: catalogOporaTrigger,
          start: 'top bottom',
          end: 'bottom center',
          scrub: true,
        },
      })

      const yStart = (catalogOporaAnimationTargetMain.getBoundingClientRect().top + scrollOffset)  - (catalogOporaTarget.getBoundingClientRect().top + scrollOffset),
            xStart = catalogOporaAnimationTargetMain.getBoundingClientRect().left - catalogOporaTarget.getBoundingClientRect().left,
            ySecondBase = (catalogOporaTrigger.getBoundingClientRect().top  + scrollOffset) + (catalogOporaTrigger.clientHeight / 2)  - (catalogOporaTarget.getBoundingClientRect().top  + scrollOffset) - catalogOporaTargetImgContainer.clientHeight / 2
            xSecondBase =  window.innerWidth / 2 - catalogOporaTarget.getBoundingClientRect().left - catalogOporaTargetImgContainer.clientWidth / 2
      
      
      catalogTl.fromTo(catalogOporaTargetImgContainer, {
        y: yStart,
        x: xStart,
        scale: catalogOporaAnimationTargetMain.clientWidth / catalogOporaTarget.clientWidth
      }, {
        y: ySecondBase ,
        x: xSecondBase,
        scale: 1,
        ease: 'none',
        scrollTrigger: {
          trigger: catalogOporaTrigger,
          start: 'top bottom',
          end: 'center center',
          scrub: true,
        },
      })

      catalogTl.fromTo(catalogOporaTargetImgContainer, 
      {
        y: ySecondBase,
        x: xSecondBase
      }, 
      {
        y: 0,
        x: 0,
        ease: 'none',
        scrollTrigger: {
          trigger: catalogOporaTrigger,
          start: 'center center',
          end: 'bottom 15%',
          scrub: true,
          onEnterBack: function () {
            catalogOporaTargetImgContainer.classList.add('disabled-default-animation')
          },
        },
        onComplete: () => {
          catalogOporaTargetImgContainer.classList.remove('disabled-default-animation')
        },
        
      }, '>')

      gsap.fromTo(catalogOporaTargetText,{opacity: 0}, {
        opacity: 1,
        duration: 0.5,
        scrollTrigger: {
          trigger: catalogOporaTrigger,
          start: 'bottom 15%',
          toggleActions: "restart none none reverse"
        },
      })

      catalogTl.set(catalogOporaTargetImgContainer, {
        y: yStart,
        x: xStart,
        scale: catalogOporaAnimationTargetMain.clientWidth / catalogOporaTarget.clientWidth
      })

    }
    }
  );

  window.addEventListener(
    "load",
    function () {
      setTimeout(function () {
        window.scrollTo(0, 0);
      }, 2);
      setTimeout(function () {
        gsap.to(".loader-progress-container", {
          y: "300%",
          duration: 0.15,
        });
        gsap.to("#loaderProgressLine", {
          y: 0,
          duration: 0.4,
          onComplete: () => {
            laoderLoad.classList.add("opacity-0");
            gsap.fromTo(
              "#firstBlock > div",
              {
                y: "100%",
                opacity: 0,
              },
              {
                y: "0%",
                opacity: 1,
                duration: 0.3,
              }
            );
            setTimeout(function () {
              headerLoad.classList.remove("-translate-y-full");
              laoderLoad.classList.add("-translate-y-full");
              canvasLoad.style.transform = "translateY(0%)";
              showFromBot.forEach((element) => {
                element.style.setProperty("--tw-translate-y", "0%");
              });
              tlCity.play()
              setTimeout(function () {
                htmlLoad.classList.remove("overflow-hidden");
                headerLoad.style.transitionDuration = "150ms";
                document.getElementById('video-canvas').style.transitionDuration = '0s'
                lockScroll.start();
                
              }, 1000);
            }, 150);
          },
        });
      }, 150);
    }
  );
</script>
