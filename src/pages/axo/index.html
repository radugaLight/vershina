<section
  class="h-screen w-screen"
  style="background: center / auto 100% no-repeat fixed url(/img/axo.webp)"
>
  <div
    class="h-full w-full text-center flex flex-col items-center justify-center gap-3 sm:gap-4"
    style="background-color: rgba(0, 0, 0, 0.85)"
  >
    <h1 class="text-20semiB sm:text-40med">
      Автоматизированная <br class="hidden sm:block" />
      система <br class="sm:hidden" />
      управления RADUGA <br />
      “Цифровая городская среда”
    </h1>
    <p class="text-14reg sm:text-17reg text-gray20 max-w-[647px]">
      Автоматизированная система управления RADUGA «Цифровая городская среда»
      предназначена для создания комфортных и безопасных условий проживания и
      повышения эффективности внутригородских систем жизнеобеспечения.
    </p>
  </div>
</section>
<section
  class="xl:min-h-screen container flex items-center justify-center pt-[177px] pb-[158px]"
>
  <div
    class="default-background py-4 sm:py-12 max-w-[82.3125rem] w-full axo-slider"
  >
    <div class="px-4 pb-[3.75rem] sm:px-12 sm:pb-10 xl:flex justify-between">
      <div class="sm:max-w-[532px]">
        <h2 class="text-24med mb-3 sm:text-27med">Состав АСУ RADUGA</h2>
        <p class="text-14reg text-gray20 sm:text-17med">
          Автоматизированная система управления RADUGA
          <span class="text-gradient text-gradient-animation"
            >«Цифровая городская среда»</span
          >
          предназначена для создания комфортных и безопасных условий проживания
        </p>
      </div>
      <div
        class="swiper-controls items-center gap-3 hidden xl:flex h-fit mt-auto"
      >
        <div class="swiper-button swiper-button-left">
          <svg
            width="7"
            height="16"
            viewBox="0 0 7 16"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M6.77271 0.800196L0.845432 6.72747C0.145432 7.42747 0.145432 8.57292 0.845432 9.27292L6.77271 15.2002"
              fill="#ADADAD"
            />
          </svg>
        </div>
        <div class="swiper-button swiper-button-right">
          <svg
            width="7"
            height="16"
            viewBox="0 0 7 16"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M6.77271 0.800196L0.845432 6.72747C0.145432 7.42747 0.145432 8.57292 0.845432 9.27292L6.77271 15.2002"
              fill="#ADADAD"
            />
          </svg>
        </div>
      </div>
    </div>
    <div class="swiper px-4 sm:px-12">
      <div class="swiper-wrapper">
        <div
          class="slider-slide swiper-slide b-roadmap__item default-background !bg-[rgba(78,78,78,0.1)] p-6 sm:p-7 flex flex-col justify-between w-[237px] sm:w-[18.125rem] min-h-[203px] sm:min-h-[12.6875rem]"
        >
          <div class="text-20semiB sm:text-24med">АПК ВН</div>
          <div class="text-14reg sm:text-17reg">
            Аппаратно-<br />программный комплекс видеонаблюдения
          </div>
        </div>
        <div
          class="slider-slide swiper-slide b-roadmap__item default-background !bg-[rgba(78,78,78,0.1)] p-6 sm:p-7 flex flex-col justify-between w-[237px] sm:w-[18.125rem] min-h-[203px] sm:min-h-[12.6875rem]"
        >
          <div class="text-20semiB sm:text-24med">АПК ВН</div>
          <div class="text-14reg sm:text-17reg">
            Аппаратно-<br />программный комплекс видеонаблюдения
          </div>
        </div>
        <div
          class="slider-slide swiper-slide b-roadmap__item default-background !bg-[rgba(78,78,78,0.1)] p-6 sm:p-7 flex flex-col justify-between w-[237px] sm:w-[18.125rem] min-h-[203px] sm:min-h-[12.6875rem]"
        >
          <div class="text-20semiB sm:text-24med">АПК ВН</div>
          <div class="text-14reg sm:text-17reg">
            Аппаратно-<br />программный комплекс видеонаблюдения
          </div>
        </div>
        <div
          class="slider-slide swiper-slide b-roadmap__item default-background !bg-[rgba(78,78,78,0.1)] p-6 sm:p-7 flex flex-col justify-between w-[237px] sm:w-[18.125rem] min-h-[203px] sm:min-h-[12.6875rem]"
        >
          <div class="text-20semiB sm:text-24med">АПК ВН</div>
          <div class="text-14reg sm:text-17reg">
            Аппаратно-<br />программный комплекс видеонаблюдения
          </div>
        </div>
        <div
          class="slider-slide swiper-slide b-roadmap__item default-background !bg-[rgba(78,78,78,0.1)] p-6 sm:p-7 flex flex-col justify-between w-[237px] sm:w-[18.125rem] min-h-[203px] sm:min-h-[12.6875rem]"
        >
          <div class="text-20semiB sm:text-24med">АПК ВН</div>
          <div class="text-14reg sm:text-17reg">
            Аппаратно-<br />программный комплекс видеонаблюдения
          </div>
        </div>
        <div
          class="slider-slide swiper-slide b-roadmap__item default-background !bg-[rgba(78,78,78,0.1)] p-6 sm:p-7 flex flex-col justify-between w-[237px] sm:w-[18.125rem] min-h-[203px] sm:min-h-[12.6875rem]"
        >
          <div class="text-20semiB sm:text-24med">АПК ВН</div>
          <div class="text-14reg sm:text-17reg">
            Аппаратно-<br />программный комплекс видеонаблюдения
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
<section class="min-h-screen container py-24 flex items-center justify-center">
  <div class="xl:grid grid-cols-12 gap-x-5">
    <h2 class="text-24med sm:text-48med mb-3 col-span-5 col-start-3 h-fit">
      Наши возможности
    </h2>
    <p
      class="text-14reg sm:text-17reg text-gray20 mb-6 sm:mb-10 col-span-3 h-fit"
    >
      Автоматизированная система управления RADUGA
      <span class="text-gradient text-gradient-animation"
        >«Цифровая городская среда»</span
      >
      позволяет максимально эффективно осуществлять мониторинг и управлять
      городским хозяйством.
    </p>
    <div
      class="col-span-8 col-start-3 grid gap-4 sm:gap-5 lg:grid-cols-2 xl:grid-cols-3"
    >
      <div
        class="default-background p-6 sm:p-8 flex flex-col gap-12 lg:gap-10 justify-between"
      >
        <h3 class="text-40med colorful-back">01</h3>
        <p class="text-17reg">
          Создание цифрового двойника города Единый диспетчерский центр
        </p>
      </div>
      <div
        class="default-background p-6 sm:p-8 flex flex-col gap-12 lg:gap-10 justify-between"
      >
        <h3 class="text-40med colorful-back">02</h3>
        <p class="text-17reg">
          Информационный обмен между компонентами, создание единой базы данных
        </p>
      </div>
      <div
        class="default-background p-6 sm:p-8 flex flex-col gap-12 lg:gap-10 justify-between"
      >
        <h3 class="text-40med colorful-back">03</h3>
        <p class="text-17reg">
          Своевременное централизованное реагирование на ЧС
        </p>
      </div>
      <div
        class="default-background p-6 sm:p-8 flex flex-col gap-12 lg:gap-10 justify-between"
      >
        <h3 class="text-40med colorful-back">04</h3>
        <p class="text-17reg">
          Контроль и оптимизация расхода ресурсов, планирование
        </p>
      </div>
      <div
        class="default-background p-6 sm:p-8 flex flex-col gap-12 lg:gap-10 justify-between"
      >
        <h3 class="text-40med colorful-back">05</h3>
        <p class="text-17reg">
          Мониторинг систем жизнеобеспечения в режиме реального времени
        </p>
      </div>
      <div
        class="default-background p-6 sm:p-8 flex flex-col gap-12 lg:gap-10 justify-between"
      >
        <h3 class="text-40med colorful-back">06</h3>
        <p class="text-17reg">
          Создание цифрового двойника города Единый диспетчерский центр
        </p>
      </div>
    </div>
  </div>
</section>
<!-- <section class="sticky-container container sticky-slider pin-full">
  <div
    class="sticky-container__el min-h-screen flex items-center justify-center"
  >
    <div class="h-full pb-5 flex items-center justify-center">
      <div
        class="flex flex-col my-auto justify-between gap-y-[5.263157894736842vh] lg:h-fit lg:grid grid-cols-12 gap-x-5"
      >
        <div class="col-start-3 col-span-4 h-fit my-auto">
          <h2 class="text-24med sm:text-48med mb-3 sm:mb-6">АСУНО RADUGA</h2>
          <p class="text-14reg text-[#c4c4c4] sm:text-17reg mb-4 sm:mb-10">
            АПК АСУНО RADUGA является основой АСУ RADUGA Цифровая городская
            среда, предназначен для мониторинга и управления сетью наружного
            освещения и включает в себя комплекс состоящий из шкафов управления
            наружным освещением, блоков управления светильниками и программного
            обеспечения.
          </p>
          <a
            href="#"
            class="text-17reg text-gray10 flex flex-col gap-[2px] w-fit sticky-slider-next"
            onclick="goToNextSlide()"
          >
            <span>Contnue</span>
            <span class="gradient-line"></span>
          </a>
        </div>
        <div class="col-start-8 col-span-3">
          <img src="/img/main/img1.webp" alt="" />
        </div>
        <div
          class="w-fit text-14reg sm:text-17reg flex items-center gap-x-[2px] ml-auto xl:flex-col absolute top-1/2 -translate-y-1/2 right-0"
        >
          <span>0<span id="counter">1</span></span>
          <span class="text-[#FF0000]">/</span>
          <span class="text-[#606060]">03</span>
        </div>
      </div>
    </div>
  </div>
  <div class="trigger trigger-1 h-[100vh]"></div>
  <div class="trigger trigger-2 h-[150vh]"></div>
  <div class="trigger trigger-3 h-[100vh]"></div>
  <div class="h-screen"></div>
  <script>
    let curSlide = 1;
    const goToNextSlide = () => {
      lockScroll.scrollTo(`.trigger-${curSlide + 1}`, {
        offset: +10,
        duration: 0,
      });
      return false;
    };
    document.addEventListener("DOMContentLoaded", function () {
      const sliderTrigger = gsap.utils.toArray(".sticky-slider .trigger");
      const counter = document.getElementById("counter");
      const nextSlider = document.querySelector(".sticky-slider-next");

      sliderTrigger.forEach((trigger, i) => {
        gsap.to("#counter", {
          scrollTrigger: {
            trigger: trigger,
            start: "top top",
            scrub: true,
            onUpdate: () => {
              counter.innerText = i + 1;
              curSlide = i + 1;
              if (i === sliderTrigger.length - 1) {
                nextSlider.classList.add("hidden");
              } else {
                nextSlider.classList.remove("hidden");
              }
            },
          },
        });
      });
    });
  </script>
</section> -->
<section
  class="lg:h-[200vh] animation-block--v1 pb-20 lg:pb-0 pt-28 lg:pt-0 lg:mt-[3.125rem] container"
>
  <div
    class="flex flex-col gap-y-10 justify-between h-full lg:h-fit lg:grid grid-cols-12 gap-5 animation-block--v1__block"
  >
    <div class="col-start-3 col-span-4 h-fit animation-block--v1__text">
      <h2 class="text-24med sm:text-48med mb-3 sm:mb-6 text-from-bot">
        Цифровая <br />
        городская среда
      </h2>
      <p class="text-14reg text-[#c4c4c4] sm:text-17reg mb-4 sm:mb-10 text-from-bot">
        Автоматизированная система управления RADUGA «Цифровая городская среда»
        предназначена для создания комфортных и безопасных условий проживания и
        повышения эффективности внутригородских систем жизнеобеспечения.
      </p>
      <a href="/" class="text-17reg text-gray10 flex flex-col gap-[2px] w-fit text-from-bot">
        <span>Подробнее</span>
        <span class="gradient-line"></span>
      </a>
    </div>
    <div class="animation-block--v1__img col-start-8 col-span-3">
      <img class="show" src="/img/main/img1.webp" alt="" />
      <img src="https://images.unsplash.com/photo-1714386002041-06e84d3633f7?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wxODY2Nzh8MHwxfHJhbmRvbXx8fHx8fHx8fDE3MTY5NTU3Njl8&ixlib=rb-4.0.3&q=80&w=1080" alt="" />
      <img src="https://images.unsplash.com/photo-1715787803917-d25f112866fe?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wxODY2Nzh8MHwxfHJhbmRvbXx8fHx8fHx8fDE3MTY5NTU3ODV8&ixlib=rb-4.0.3&q=80&w=1080" alt="" />
      <img src="https://images.unsplash.com/photo-1715428019327-fa9363fba1ef?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wxODY2Nzh8MHwxfHJhbmRvbXx8fHx8fHx8fDE3MTY5NTU4MDR8&ixlib=rb-4.0.3&q=80&w=1080" alt="" />
      <img src="https://images.unsplash.com/photo-1714329454060-7b243446995b?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wxODY2Nzh8MHwxfHJhbmRvbXx8fHx8fHx8fDE3MTY5NTU4MTV8&ixlib=rb-4.0.3&q=80&w=1080" alt="" />
    </div>
  </div>
</section>
<script>
      document.addEventListener('DOMContentLoaded', function() {
        const animv1 = document.querySelector(".animation-block--v1");
      const animv1Block = document.querySelector(".animation-block--v1__block");
      const animv1Text = document.querySelector(".animation-block--v1__text");
      const animv1Img = document.querySelector(".animation-block--v1__img");
      const animv1ImgArr = document.querySelectorAll(".animation-block--v1__img > img");

      const animFrames = {
        img: 0
      }

      let prevImg = 0;

      function setImage() {
        animv1ImgArr[prevImg].classList.remove('show')
        animv1ImgArr[animFrames.img].classList.add('show')

        prevImg = animFrames.img
      }

      const botBlockAnim = {
        scrollTrigger: {
              trigger: animv1,
              start: "top center",
              end: `bottom center`,
              // invalidateOnRefresh: true,
              scrub: true,
            },
            ease: "none",
            delay: 0,
      }

      if (window.innerWidth > 1024) {
        gsap.fromTo(
          animv1Block,
          {
            y: 0,
          },
          {
            y: () => animv1.clientHeight - animv1Block.clientHeight,
           ...botBlockAnim
          }
        );
        gsap.fromTo(
          animv1Text,
          {
            y: 0,
          },
          {
            y: () => animv1Block.clientHeight - animv1Text.clientHeight,
            ...botBlockAnim
          }
        );
        const g = gsap.to(
          animFrames,
          {
            img: animv1ImgArr.length - 1,
            snap: "img",
            ...botBlockAnim
          }
        );

        g.eventCallback("onUpdate", () => {
          setImage()
        });
      }
      })
</script>
<section
  class="form-section xl:pt-48 xl:pb-32lg:h-auto py-24 sm:py-32 lg:grid grid-cols-12 gap-5 flex items-center justify-center"
>
  <div
    class="form-container py-6 px-5 lg:py-[3.125rem] lg:px-[3.25rem] default-background col-span-8 col-start-3 w-full"
  >
    <div
      class="form-container__heading text-center w-fit mx-auto mb-8 sm:mb-10"
    >
      <h2 class="text-24med sm:text-32med mb-2 sm:mb-3">Оставить заявку</h2>
      <p
        class="text-14reg sm:text-14med text-gray20 max-w-[280px] lg:max-w-[321px]"
      >
        Заполните заявку и наш менеджер свяжется с вами в ближайшее время
      </p>
    </div>
    <form action="" class="">
      <div class="gap-3 lg:grid flex flex-col grid-cols-4 mb-6 sm:mb-8">
        <input type="text" class="input w-full" placeholder="Имя" />
        <input type="text" class="input w-full" placeholder="Телефон" />
        <input type="text" class="input w-full" placeholder="Почта" />
        <input type="text" class="input w-full" placeholder="Комментарий" />
      </div>
      <div
        class="flex flex-col gap-7 p-[0.625rem] lg:p-0 lg:flex-row items-center justify-center"
      >
        <label for="" class="flex gap-2 flex-1 lg:max-w-[358px] my-[3px]">
          <input type="checkbox" class="checkbox" />
          <span class="block flex-1 text-13med text-[#d4d4d4]"
            >Я согласен(а) на обработку персональных данных и с политикой
            обработки персональных данных</span
          >
        </label>
        <button
          type="button"
          class="button button--primary w-full lg:w-fit lg:h-full"
        >
          Оставить заявку
        </button>
      </div>
    </form>
  </div>
</section>

<script>
  const additionaleSwiper = new Swiper(".axo-slider .swiper", {
    slidesPerView: "auto",
    spaceBetween: 16,
    navigation: {
      nextEl: ".axo-slider .swiper-button-right",
      prevEl: ".axo-slider .swiper-button-left",
    },
    breakpoints: {
      1024: {
        spaceBetween: 20,
      },
    },
  });
</script>
